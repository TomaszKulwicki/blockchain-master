#!/usr/bin/env node
"use strict";var lu=Object.create;var Bo=Object.defineProperty;var fu=Object.getOwnPropertyDescriptor;var uu=Object.getOwnPropertyNames;var pu=Object.getPrototypeOf,du=Object.prototype.hasOwnProperty;var mu=(e,t,r)=>t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uu(t))!du.call(e,o)&&o!==r&&Bo(e,o,{get:()=>t[o],enumerable:!(n=fu(t,o))||n.enumerable});return e};var v=(e,t,r)=>(r=e!=null?lu(pu(e)):{},hu(t||!e||!e.__esModule?Bo(r,"default",{value:e,enumerable:!0}):r,e));var Da=(e,t,r)=>(mu(e,typeof t!="symbol"?t+"":t,r),r),Fa=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var w=(e,t,r)=>(Fa(e,t,"read from private field"),r?r.call(e):t.get(e)),J=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},j=(e,t,r,n)=>(Fa(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xt=(e,t,r,n)=>({set _(o){j(e,t,o,r)},get _(){return w(e,t,n)}});var Ga=P((fh,Jo)=>{"use strict";var Wa=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Jo.exports=Wa;Jo.exports.default=Wa});var Va=P((uh,On)=>{"use strict";var Du=Ga(),An=new WeakMap,Ja=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,o=e.displayName||e.name||"<anonymous>",i=function(...a){if(An.set(i,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return Du(i,e),An.set(i,n),i};On.exports=Ja;On.exports.default=Ja;On.exports.callCount=e=>{if(!An.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return An.get(e)}});var za=P((ph,In)=>{"use strict";In.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&In.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&In.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Za=P((dh,Et)=>{"use strict";var q=global.process,Ze=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Ze(q)?(Ha=require("assert"),St=za(),Ya=/^win/i.test(q.platform),er=require("events"),typeof er!="function"&&(er=er.EventEmitter),q.__signal_exit_emitter__?K=q.__signal_exit_emitter__:(K=q.__signal_exit_emitter__=new er,K.count=0,K.emitted={}),K.infinite||(K.setMaxListeners(1/0),K.infinite=!0),Et.exports=function(e,t){if(!Ze(global.process))return function(){};Ha.equal(typeof e,"function","a callback must be provided for exit handler"),kt===!1&&Vo();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){K.removeListener(r,e),K.listeners("exit").length===0&&K.listeners("afterexit").length===0&&Mn()};return K.on(r,e),n},Mn=function(){!kt||!Ze(global.process)||(kt=!1,St.forEach(function(t){try{q.removeListener(t,Ln[t])}catch{}}),q.emit=Nn,q.reallyExit=zo,K.count-=1)},Et.exports.unload=Mn,Qe=function(t,r,n){K.emitted[t]||(K.emitted[t]=!0,K.emit(t,r,n))},Ln={},St.forEach(function(e){Ln[e]=function(){if(Ze(global.process)){var r=q.listeners(e);r.length===K.count&&(Mn(),Qe("exit",null,e),Qe("afterexit",null,e),Ya&&e==="SIGHUP"&&(e="SIGINT"),q.kill(q.pid,e))}}}),Et.exports.signals=function(){return St},kt=!1,Vo=function(){kt||!Ze(global.process)||(kt=!0,K.count+=1,St=St.filter(function(t){try{return q.on(t,Ln[t]),!0}catch{return!1}}),q.emit=Xa,q.reallyExit=Ka)},Et.exports.load=Vo,zo=q.reallyExit,Ka=function(t){Ze(global.process)&&(q.exitCode=t||0,Qe("exit",q.exitCode,null),Qe("afterexit",q.exitCode,null),zo.call(q,q.exitCode))},Nn=q.emit,Xa=function(t,r){if(t==="exit"&&Ze(global.process)){r!==void 0&&(q.exitCode=r);var n=Nn.apply(this,arguments);return Qe("exit",q.exitCode,null),Qe("afterexit",q.exitCode,null),n}else return Nn.apply(this,arguments)}):Et.exports=function(){return function(){}};var Ha,St,Ya,er,K,Mn,Qe,Ln,kt,Vo,zo,Ka,Nn,Xa});var ns=P((yh,ju)=>{ju.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]},dwarfFortress:{interval:80,frames:[" \u2588\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2588\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2588\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2593\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2593\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2592\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2592\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2591\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A\u2591\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","\u263A \u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2593\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2593\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2592\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2592\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2591\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A\u2591\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u263A \u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2593\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2593\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2592\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2592\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2591\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A\u2591\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u263A \u2588\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2588\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2588\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2593\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2593\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2592\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2592\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2591\u2588\u2588\xA3\xA3\xA3  ","   \u263A\u2591\u2588\u2588\xA3\xA3\xA3  ","   \u263A \u2588\u2588\xA3\xA3\xA3  ","    \u263A\u2588\u2588\xA3\xA3\xA3  ","    \u263A\u2588\u2588\xA3\xA3\xA3  ","    \u263A\u2593\u2588\xA3\xA3\xA3  ","    \u263A\u2593\u2588\xA3\xA3\xA3  ","    \u263A\u2592\u2588\xA3\xA3\xA3  ","    \u263A\u2592\u2588\xA3\xA3\xA3  ","    \u263A\u2591\u2588\xA3\xA3\xA3  ","    \u263A\u2591\u2588\xA3\xA3\xA3  ","    \u263A \u2588\xA3\xA3\xA3  ","     \u263A\u2588\xA3\xA3\xA3  ","     \u263A\u2588\xA3\xA3\xA3  ","     \u263A\u2593\xA3\xA3\xA3  ","     \u263A\u2593\xA3\xA3\xA3  ","     \u263A\u2592\xA3\xA3\xA3  ","     \u263A\u2592\xA3\xA3\xA3  ","     \u263A\u2591\xA3\xA3\xA3  ","     \u263A\u2591\xA3\xA3\xA3  ","     \u263A \xA3\xA3\xA3  ","      \u263A\xA3\xA3\xA3  ","      \u263A\xA3\xA3\xA3  ","      \u263A\u2593\xA3\xA3  ","      \u263A\u2593\xA3\xA3  ","      \u263A\u2592\xA3\xA3  ","      \u263A\u2592\xA3\xA3  ","      \u263A\u2591\xA3\xA3  ","      \u263A\u2591\xA3\xA3  ","      \u263A \xA3\xA3  ","       \u263A\xA3\xA3  ","       \u263A\xA3\xA3  ","       \u263A\u2593\xA3  ","       \u263A\u2593\xA3  ","       \u263A\u2592\xA3  ","       \u263A\u2592\xA3  ","       \u263A\u2591\xA3  ","       \u263A\u2591\xA3  ","       \u263A \xA3  ","        \u263A\xA3  ","        \u263A\xA3  ","        \u263A\u2593  ","        \u263A\u2593  ","        \u263A\u2592  ","        \u263A\u2592  ","        \u263A\u2591  ","        \u263A\u2591  ","        \u263A   ","        \u263A  &","        \u263A \u263C&","       \u263A \u263C &","       \u263A\u263C  &","      \u263A\u263C  & ","      \u203C   & ","     \u263A   &  ","    \u203C    &  ","   \u263A    &   ","  \u203C     &   "," \u263A     &    ","\u203C      &    ","      &     ","      &     ","     &   \u2591  ","     &   \u2592  ","    &    \u2593  ","    &    \xA3  ","   &    \u2591\xA3  ","   &    \u2592\xA3  ","  &     \u2593\xA3  ","  &     \xA3\xA3  "," &     \u2591\xA3\xA3  "," &     \u2592\xA3\xA3  ","&      \u2593\xA3\xA3  ","&      \xA3\xA3\xA3  ","      \u2591\xA3\xA3\xA3  ","      \u2592\xA3\xA3\xA3  ","      \u2593\xA3\xA3\xA3  ","      \u2588\xA3\xA3\xA3  ","     \u2591\u2588\xA3\xA3\xA3  ","     \u2592\u2588\xA3\xA3\xA3  ","     \u2593\u2588\xA3\xA3\xA3  ","     \u2588\u2588\xA3\xA3\xA3  ","    \u2591\u2588\u2588\xA3\xA3\xA3  ","    \u2592\u2588\u2588\xA3\xA3\xA3  ","    \u2593\u2588\u2588\xA3\xA3\xA3  ","    \u2588\u2588\u2588\xA3\xA3\xA3  ","   \u2591\u2588\u2588\u2588\xA3\xA3\xA3  ","   \u2592\u2588\u2588\u2588\xA3\xA3\xA3  ","   \u2593\u2588\u2588\u2588\xA3\xA3\xA3  ","   \u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u2591\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u2592\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u2593\u2588\u2588\u2588\u2588\xA3\xA3\xA3  ","  \u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u2591\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u2592\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u2593\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u2588\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "," \u2588\u2588\u2588\u2588\u2588\u2588\xA3\xA3\xA3  "]}}});var Ko=P((bh,is)=>{"use strict";var Un=Object.assign({},ns()),os=Object.keys(Un);Object.defineProperty(Un,"random",{get(){let e=Math.floor(Math.random()*os.length),t=os[e];return Un[t]}});is.exports=Un});var as=P((Th,qn)=>{"use strict";var Mu=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var u=[],p=[],y=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function g(d,b){if(d===null)return null;if(b==0)return d;var _,x;if(typeof d!="object")return d;if(e.__isArray(d))_=[];else if(e.__isRegExp(d))_=new RegExp(d.source,i(d)),d.lastIndex&&(_.lastIndex=d.lastIndex);else if(e.__isDate(d))_=new Date(d.getTime());else{if(y&&Buffer.isBuffer(d))return Buffer.allocUnsafe?_=Buffer.allocUnsafe(d.length):_=new Buffer(d.length),d.copy(_),_;typeof c>"u"?(x=Object.getPrototypeOf(d),_=Object.create(x)):(_=Object.create(c),x=c)}if(s){var E=u.indexOf(d);if(E!=-1)return p[E];u.push(d),p.push(_)}for(var k in d){var C;x&&(C=Object.getOwnPropertyDescriptor(x,k)),!(C&&C.set==null)&&(_[k]=g(d[k],b-1))}return _}return g(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function o(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=o;function i(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=i,e}();typeof qn=="object"&&qn.exports&&(qn.exports=Mu)});var cs=P((Ch,ss)=>{"use strict";var Lu=as();ss.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=Lu(t[r]))}),e}});var fs=P((Ph,ls)=>{"use strict";ls.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var ms=P((Rh,Qo)=>{"use strict";var Nu=cs(),nr=fs(),ps={nul:0,control:0};Qo.exports=function(t){return ds(t,ps)};Qo.exports.config=function(e){return e=Nu(e||{},ps),function(r){return ds(r,e)}};function ds(e,t){if(typeof e!="string")return us(e,t);for(var r=0,n=0;n<e.length;n++){var o=us(e.charCodeAt(n),t);if(o<0)return-1;r+=o}return r}function us(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:Bu(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function Bu(e){var t=0,r=nr.length-1,n;if(e<nr[0][0]||e>nr[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>nr[n][1])t=n+1;else if(e<nr[n][0])r=n-1;else return!0;return!1}});var ti=P((Fh,hs)=>{"use strict";hs.exports=require("stream")});var _s=P((jh,xs)=>{"use strict";function gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(r),!0).forEach(function(n){Uu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uu(e,t,r){return t=ws(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ws(n.key),n)}}function Wu(e,t,r){return t&&bs(e.prototype,t),r&&bs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ws(e){var t=Gu(e,"string");return typeof t=="symbol"?t:String(t)}function Gu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ju=require("buffer"),Wn=Ju.Buffer,Vu=require("util"),ri=Vu.inspect,zu=ri&&ri.custom||"inspect";function Hu(e,t,r){Wn.prototype.copy.call(e,t,r)}xs.exports=function(){function e(){qu(this,e),this.head=null,this.tail=null,this.length=0}return Wu(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o}},{key:"concat",value:function(r){if(this.length===0)return Wn.alloc(0);for(var n=Wn.allocUnsafe(r>>>0),o=this.head,i=0;o;)Hu(o.data,n,i),i+=o.data.length,o=o.next;return n}},{key:"consume",value:function(r,n){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?o=this.shift():o=n?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,o=1,i=n.data;for(r-=i.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?i+=a:i+=a.slice(0,r),r-=s,r===0){s===a.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++o}return this.length-=o,i}},{key:"_getBuffer",value:function(r){var n=Wn.allocUnsafe(r),o=this.head,i=1;for(o.data.copy(n),r-=o.data.length;o=o.next;){var a=o.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++i,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=a.slice(s));break}++i}return this.length-=i,n}},{key:zu,value:function(r,n){return ri(this,ys(ys({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var oi=P(($h,Ss)=>{"use strict";function Yu(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ni,this,e)):process.nextTick(ni,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?process.nextTick(Gn,r):(r._writableState.errorEmitted=!0,process.nextTick(vs,r,i)):process.nextTick(vs,r,i):t?(process.nextTick(Gn,r),t(i)):process.nextTick(Gn,r)}),this)}function vs(e,t){ni(e,t),Gn(e)}function Gn(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ku(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ni(e,t){e.emit("error",t)}function Xu(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}Ss.exports={destroy:Yu,undestroy:Ku,errorOrDestroy:Xu}});var Ae=P((Ah,Ts)=>{"use strict";var Es={};function de(e,t,r){r||(r=Error);function n(i,a,s){return typeof t=="string"?t:t(i,a,s)}class o extends r{constructor(a,s,l){super(n(a,s,l))}}o.prototype.name=r.name,o.prototype.code=e,Es[e]=o}function ks(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Zu(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Qu(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function ep(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}de("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);de("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Zu(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let o;if(Qu(e," argument"))o=`The ${e} ${n} ${ks(t,"type")}`;else{let i=ep(e,".")?"property":"argument";o=`The "${e}" ${i} ${n} ${ks(t,"type")}`}return o+=`. Received type ${typeof r}`,o},TypeError);de("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");de("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});de("ERR_STREAM_PREMATURE_CLOSE","Premature close");de("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});de("ERR_MULTIPLE_CALLBACK","Callback called multiple times");de("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");de("ERR_STREAM_WRITE_AFTER_END","write after end");de("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);de("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);de("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ts.exports.codes=Es});var ii=P((Oh,Cs)=>{"use strict";var tp=Ae().codes.ERR_INVALID_OPT_VALUE;function rp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function np(e,t,r,n){var o=rp(t,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?r:"highWaterMark";throw new tp(i,o)}return Math.floor(o)}return e.objectMode?16:16*1024}Cs.exports={getHighWaterMark:np}});var Ps=P((Ih,ai)=>{"use strict";typeof Object.create=="function"?ai.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ai.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var et=P((Mh,ci)=>{"use strict";try{if(si=require("util"),typeof si.inherits!="function")throw"";ci.exports=si.inherits}catch{ci.exports=Ps()}var si});var Ds=P((Lh,Rs)=>{"use strict";Rs.exports=require("util").deprecate});var ui=P((Nh,Is)=>{"use strict";Is.exports=G;function js(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Dp(t,e)}}var Ct;G.WritableState=ir;var op={deprecate:Ds()},$s=ti(),Vn=require("buffer").Buffer,ip=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ap(e){return Vn.from(e)}function sp(e){return Vn.isBuffer(e)||e instanceof ip}var fi=oi(),cp=ii(),lp=cp.getHighWaterMark,Oe=Ae().codes,fp=Oe.ERR_INVALID_ARG_TYPE,up=Oe.ERR_METHOD_NOT_IMPLEMENTED,pp=Oe.ERR_MULTIPLE_CALLBACK,dp=Oe.ERR_STREAM_CANNOT_PIPE,mp=Oe.ERR_STREAM_DESTROYED,hp=Oe.ERR_STREAM_NULL_VALUES,gp=Oe.ERR_STREAM_WRITE_AFTER_END,yp=Oe.ERR_UNKNOWN_ENCODING,Pt=fi.errorOrDestroy;et()(G,$s);function bp(){}function ir(e,t,r){Ct=Ct||tt(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ct),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=lp(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){Ep(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new js(this)}ir.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(ir.prototype,"buffer",{get:op.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Jn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Jn=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(t){return Jn.call(this,t)?!0:this!==G?!1:t&&t._writableState instanceof ir}})):Jn=function(t){return t instanceof this};function G(e){Ct=Ct||tt();var t=this instanceof Ct;if(!t&&!Jn.call(G,this))return new G(e);this._writableState=new ir(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),$s.call(this)}G.prototype.pipe=function(){Pt(this,new dp)};function wp(e,t){var r=new gp;Pt(e,r),process.nextTick(t,r)}function xp(e,t,r,n){var o;return r===null?o=new hp:typeof r!="string"&&!t.objectMode&&(o=new fp("chunk",["string","Buffer"],r)),o?(Pt(e,o),process.nextTick(n,o),!1):!0}G.prototype.write=function(e,t,r){var n=this._writableState,o=!1,i=!n.objectMode&&sp(e);return i&&!Vn.isBuffer(e)&&(e=ap(e)),typeof t=="function"&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=bp),n.ending?wp(this,r):(i||xp(this,n,e,r))&&(n.pendingcb++,o=vp(this,n,i,e,t,r)),o};G.prototype.cork=function(){this._writableState.corked++};G.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&As(this,e))};G.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new yp(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function _p(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Vn.from(t,r)),t}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function vp(e,t,r,n,o,i){if(!r){var a=_p(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else li(e,t,!1,s,n,o,i);return l}function li(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new mp("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function Sp(e,t,r,n,o){--t.pendingcb,r?(process.nextTick(o,n),process.nextTick(or,e,t),e._writableState.errorEmitted=!0,Pt(e,n)):(o(n),e._writableState.errorEmitted=!0,Pt(e,n),or(e,t))}function kp(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Ep(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(typeof o!="function")throw new pp;if(kp(r),t)Sp(e,r,n,t,o);else{var i=Os(r)||e.destroyed;!i&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&As(e,r),n?process.nextTick(Fs,e,r,i,o):Fs(e,r,i,o)}}function Fs(e,t,r,n){r||Tp(e,t),t.pendingcb--,n(),or(e,t)}function Tp(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function As(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)o[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;o.allBuffers=s,li(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new js(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,u=t.objectMode?1:l.length;if(li(e,t,!1,u,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}G.prototype._write=function(e,t,r){r(new up("_write()"))};G.prototype._writev=null;G.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Rp(this,n,r),this};Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Os(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Cp(e,t){e._final(function(r){t.pendingcb--,r&&Pt(e,r),t.prefinished=!0,e.emit("prefinish"),or(e,t)})}function Pp(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(Cp,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function or(e,t){var r=Os(t);if(r&&(Pp(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Rp(e,t,r){t.ending=!0,or(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Dp(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});G.prototype.destroy=fi.destroy;G.prototype._undestroy=fi.undestroy;G.prototype._destroy=function(e,t){t(e)}});var tt=P((Bh,Ls)=>{"use strict";var Fp=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Ls.exports=_e;var Ms=mi(),di=ui();et()(_e,Ms);for(pi=Fp(di.prototype),zn=0;zn<pi.length;zn++)Hn=pi[zn],_e.prototype[Hn]||(_e.prototype[Hn]=di.prototype[Hn]);var pi,Hn,zn;function _e(e){if(!(this instanceof _e))return new _e(e);Ms.call(this,e),di.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",jp)))}Object.defineProperty(_e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(_e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(_e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jp(){this._writableState.ended||process.nextTick($p,this)}function $p(e){e.end()}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Us=P((hi,Bs)=>{"use strict";var Yn=require("buffer"),ve=Yn.Buffer;function Ns(e,t){for(var r in e)t[r]=e[r]}ve.from&&ve.alloc&&ve.allocUnsafe&&ve.allocUnsafeSlow?Bs.exports=Yn:(Ns(Yn,hi),hi.Buffer=rt);function rt(e,t,r){return ve(e,t,r)}rt.prototype=Object.create(ve.prototype);Ns(ve,rt);rt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ve(e,t,r)};rt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ve(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};rt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ve(e)};rt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Yn.SlowBuffer(e)}});var bi=P(Ws=>{"use strict";var yi=Us().Buffer,qs=yi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ap(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Op(e){var t=Ap(e);if(typeof t!="string"&&(yi.isEncoding===qs||!qs(e)))throw new Error("Unknown encoding: "+e);return t||e}Ws.StringDecoder=ar;function ar(e){this.encoding=Op(e);var t;switch(this.encoding){case"utf16le":this.text=Up,this.end=qp,t=4;break;case"utf8":this.fillLast=Lp,t=4;break;case"base64":this.text=Wp,this.end=Gp,t=3;break;default:this.write=Jp,this.end=Vp;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=yi.allocUnsafe(t)}ar.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};ar.prototype.end=Bp;ar.prototype.text=Np;ar.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function gi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Ip(e,t,r){var n=t.length-1;if(n<r)return 0;var o=gi(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=gi(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=gi(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function Mp(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Lp(e){var t=this.lastTotal-this.lastNeed,r=Mp(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Np(e,t){var r=Ip(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Bp(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Up(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function qp(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Wp(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Gp(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Jp(e){return e.toString(this.encoding)}function Vp(e){return e&&e.length?this.write(e):""}});var Kn=P((qh,Vs)=>{"use strict";var Gs=Ae().codes.ERR_STREAM_PREMATURE_CLOSE;function zp(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}function Hp(){}function Yp(e){return e.setHeader&&typeof e.abort=="function"}function Js(e,t,r){if(typeof t=="function")return Js(e,null,t);t||(t={}),r=zp(r||Hp);var n=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){o=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,o||r.call(e)},f=function(g){r.call(e,g)},u=function(){var g;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(g=new Gs),r.call(e,g);if(o&&!a)return(!e._writableState||!e._writableState.ended)&&(g=new Gs),r.call(e,g)},p=function(){e.req.on("finish",s)};return Yp(e)?(e.on("complete",s),e.on("abort",u),e.req?p():e.on("request",p)):o&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",u),function(){e.removeListener("complete",s),e.removeListener("abort",u),e.removeListener("request",p),e.req&&e.req.removeListener("finish",s),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",u)}}Vs.exports=Js});var Hs=P((Wh,zs)=>{"use strict";var Xn;function Ie(e,t,r){return t=Kp(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kp(e){var t=Xp(e,"string");return typeof t=="symbol"?t:String(t)}function Xp(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=Kn(),Me=Symbol("lastResolve"),nt=Symbol("lastReject"),sr=Symbol("error"),Zn=Symbol("ended"),ot=Symbol("lastPromise"),wi=Symbol("handlePromise"),it=Symbol("stream");function Le(e,t){return{value:e,done:t}}function Qp(e){var t=e[Me];if(t!==null){var r=e[it].read();r!==null&&(e[ot]=null,e[Me]=null,e[nt]=null,t(Le(r,!1)))}}function ed(e){process.nextTick(Qp,e)}function td(e,t){return function(r,n){e.then(function(){if(t[Zn]){r(Le(void 0,!0));return}t[wi](r,n)},n)}}var rd=Object.getPrototypeOf(function(){}),nd=Object.setPrototypeOf((Xn={get stream(){return this[it]},next:function(){var t=this,r=this[sr];if(r!==null)return Promise.reject(r);if(this[Zn])return Promise.resolve(Le(void 0,!0));if(this[it].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[sr]?s(t[sr]):a(Le(void 0,!0))})});var n=this[ot],o;if(n)o=new Promise(td(n,this));else{var i=this[it].read();if(i!==null)return Promise.resolve(Le(i,!1));o=new Promise(this[wi])}return this[ot]=o,o}},Ie(Xn,Symbol.asyncIterator,function(){return this}),Ie(Xn,"return",function(){var t=this;return new Promise(function(r,n){t[it].destroy(null,function(o){if(o){n(o);return}r(Le(void 0,!0))})})}),Xn),rd),od=function(t){var r,n=Object.create(nd,(r={},Ie(r,it,{value:t,writable:!0}),Ie(r,Me,{value:null,writable:!0}),Ie(r,nt,{value:null,writable:!0}),Ie(r,sr,{value:null,writable:!0}),Ie(r,Zn,{value:t._readableState.endEmitted,writable:!0}),Ie(r,wi,{value:function(i,a){var s=n[it].read();s?(n[ot]=null,n[Me]=null,n[nt]=null,i(Le(s,!1))):(n[Me]=i,n[nt]=a)},writable:!0}),r));return n[ot]=null,Zp(t,function(o){if(o&&o.code!=="ERR_STREAM_PREMATURE_CLOSE"){var i=n[nt];i!==null&&(n[ot]=null,n[Me]=null,n[nt]=null,i(o)),n[sr]=o;return}var a=n[Me];a!==null&&(n[ot]=null,n[Me]=null,n[nt]=null,a(Le(void 0,!0))),n[Zn]=!0}),t.on("readable",ed.bind(null,n)),n};zs.exports=od});var Zs=P((Gh,Xs)=>{"use strict";function Ys(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,o)}function id(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(l){Ys(i,n,o,a,s,"next",l)}function s(l){Ys(i,n,o,a,s,"throw",l)}a(void 0)})}}function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ks(Object(r),!0).forEach(function(n){sd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sd(e,t,r){return t=cd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cd(e){var t=ld(e,"string");return typeof t=="symbol"?t:String(t)}function ld(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fd=Ae().codes.ERR_INVALID_ARG_TYPE;function ud(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new fd("iterable",["Iterable"],t);var o=new e(ad({objectMode:!0},r)),i=!1;o._read=function(){i||(i=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=id(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?o.push(null):o.push(yield c)?a():i=!1}catch(u){o.destroy(u)}}),s.apply(this,arguments)}return o}Xs.exports=ud});var mi=P((Vh,cc)=>{"use strict";cc.exports=$;var Rt;$.ReadableState=rc;var Jh=require("events").EventEmitter,tc=function(t,r){return t.listeners(r).length},lr=ti(),Qn=require("buffer").Buffer,pd=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function dd(e){return Qn.from(e)}function md(e){return Qn.isBuffer(e)||e instanceof pd}var xi=require("util"),F;xi&&xi.debuglog?F=xi.debuglog("stream"):F=function(){};var hd=_s(),Ci=oi(),gd=ii(),yd=gd.getHighWaterMark,eo=Ae().codes,bd=eo.ERR_INVALID_ARG_TYPE,wd=eo.ERR_STREAM_PUSH_AFTER_EOF,xd=eo.ERR_METHOD_NOT_IMPLEMENTED,_d=eo.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dt,_i,vi;et()($,lr);var cr=Ci.errorOrDestroy,Si=["error","close","destroy","pause","resume"];function vd(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function rc(e,t,r){Rt=Rt||tt(),e=e||{},typeof r!="boolean"&&(r=t instanceof Rt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=yd(this,e,"readableHighWaterMark",r),this.buffer=new hd,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Dt||(Dt=bi().StringDecoder),this.decoder=new Dt(e.encoding),this.encoding=e.encoding)}function $(e){if(Rt=Rt||tt(),!(this instanceof $))return new $(e);var t=this instanceof Rt;this._readableState=new rc(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),lr.call(this)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});$.prototype.destroy=Ci.destroy;$.prototype._undestroy=Ci.undestroy;$.prototype._destroy=function(e,t){t(e)};$.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Qn.from(e,t),t=""),n=!0),nc(this,e,t,!1,n)};$.prototype.unshift=function(e){return nc(this,e,null,!0,!1)};function nc(e,t,r,n,o){F("readableAddChunk",t);var i=e._readableState;if(t===null)i.reading=!1,Ed(e,i);else{var a;if(o||(a=Sd(i,t)),a)cr(e,a);else if(i.objectMode||t&&t.length>0)if(typeof t!="string"&&!i.objectMode&&Object.getPrototypeOf(t)!==Qn.prototype&&(t=dd(t)),n)i.endEmitted?cr(e,new _d):ki(e,i,t,!0);else if(i.ended)cr(e,new wd);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?ki(e,i,t,!1):Ti(e,i)):ki(e,i,t,!1)}else n||(i.reading=!1,Ti(e,i))}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function ki(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&to(e)),Ti(e,t)}function Sd(e,t){var r;return!md(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new bd("chunk",["string","Buffer","Uint8Array"],t)),r}$.prototype.isPaused=function(){return this._readableState.flowing===!1};$.prototype.setEncoding=function(e){Dt||(Dt=bi().StringDecoder);var t=new Dt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Qs=1073741824;function kd(e){return e>=Qs?e=Qs:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function ec(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=kd(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}$.prototype.read=function(e){F("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return F("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ei(this):to(this),null;if(e=ec(e,t),e===0&&t.ended)return t.length===0&&Ei(this),null;var n=t.needReadable;F("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,F("length less than watermark",n)),t.ended||t.reading?(n=!1,F("reading or ended",n)):n&&(F("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=ec(r,t)));var o;return e>0?o=ac(e,t):o=null,o===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Ei(this)),o!==null&&this.emit("data",o),o};function Ed(e,t){if(F("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?to(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,oc(e)))}}function to(e){var t=e._readableState;F("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(F("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(oc,e))}function oc(e){var t=e._readableState;F("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Pi(e)}function Ti(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Td,e,t))}function Td(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(F("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}$.prototype._read=function(e){cr(this,new xd("_read()"))};$.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,F("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,i=o?s:d;n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",a);function a(b,_){F("onunpipe"),b===r&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,f())}function s(){F("onend"),e.end()}var l=Cd(r);e.on("drain",l);var c=!1;function f(){F("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",d),r.removeListener("data",u),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",u);function u(b){F("ondata");var _=e.write(b);F("dest.write",_),_===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&sc(n.pipes,e)!==-1)&&!c&&(F("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(b){F("onerror",b),d(),e.removeListener("error",p),tc(e,"error")===0&&cr(e,b)}vd(e,"error",p);function y(){e.removeListener("finish",g),d()}e.once("close",y);function g(){F("onfinish"),e.removeListener("close",y),d()}e.once("finish",g);function d(){F("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(F("pipe resume"),r.resume()),e};function Cd(e){return function(){var r=e._readableState;F("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&tc(e,"data")&&(r.flowing=!0,Pi(e))}}$.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=sc(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};$.prototype.on=function(e,t){var r=lr.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,F("on readable",n.length,n.reading),n.length?to(this):n.reading||process.nextTick(Pd,this)),r};$.prototype.addListener=$.prototype.on;$.prototype.removeListener=function(e,t){var r=lr.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(ic,this),r};$.prototype.removeAllListeners=function(e){var t=lr.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(ic,this),t};function ic(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Pd(e){F("readable nexttick read 0"),e.read(0)}$.prototype.resume=function(){var e=this._readableState;return e.flowing||(F("resume"),e.flowing=!e.readableListening,Rd(this,e)),e.paused=!1,this};function Rd(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Dd,e,t))}function Dd(e,t){F("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Pi(e),t.flowing&&!t.reading&&e.read(0)}$.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Pi(e){var t=e._readableState;for(F("flow",t.flowing);t.flowing&&e.read()!==null;);}$.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(F("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(F("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(s){return function(){return e[s].apply(e,arguments)}}(o));for(var i=0;i<Si.length;i++)e.on(Si[i],this.emit.bind(this,Si[i]));return this._read=function(a){F("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return _i===void 0&&(_i=Hs()),_i(this)});Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});$._fromList=ac;Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ac(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Ei(e){var t=e._readableState;F("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Fd,t,e))}function Fd(e,t){if(F("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&($.from=function(e,t){return vi===void 0&&(vi=Zs()),vi($,e,t)});function sc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ri=P((zh,fc)=>{"use strict";fc.exports=Pe;var ro=Ae().codes,jd=ro.ERR_METHOD_NOT_IMPLEMENTED,$d=ro.ERR_MULTIPLE_CALLBACK,Ad=ro.ERR_TRANSFORM_ALREADY_TRANSFORMING,Od=ro.ERR_TRANSFORM_WITH_LENGTH_0,no=tt();et()(Pe,no);function Id(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new $d);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Pe(e){if(!(this instanceof Pe))return new Pe(e);no.call(this,e),this._transformState={afterTransform:Id.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Md)}function Md(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){lc(e,t,r)}):lc(this,null,null)}Pe.prototype.push=function(e,t){return this._transformState.needTransform=!1,no.prototype.push.call(this,e,t)};Pe.prototype._transform=function(e,t,r){r(new jd("_transform()"))};Pe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Pe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Pe.prototype._destroy=function(e,t){no.prototype._destroy.call(this,e,function(r){t(r)})};function lc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Od;if(e._transformState.transforming)throw new Ad;return e.push(null)}});var dc=P((Hh,pc)=>{"use strict";pc.exports=fr;var uc=Ri();et()(fr,uc);function fr(e){if(!(this instanceof fr))return new fr(e);uc.call(this,e)}fr.prototype._transform=function(e,t,r){r(null,e)}});var bc=P((Yh,yc)=>{"use strict";var Di;function Ld(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var gc=Ae().codes,Nd=gc.ERR_MISSING_ARGS,Bd=gc.ERR_STREAM_DESTROYED;function mc(e){if(e)throw e}function Ud(e){return e.setHeader&&typeof e.abort=="function"}function qd(e,t,r,n){n=Ld(n);var o=!1;e.on("close",function(){o=!0}),Di===void 0&&(Di=Kn()),Di(e,{readable:t,writable:r},function(a){if(a)return n(a);o=!0,n()});var i=!1;return function(a){if(!o&&!i){if(i=!0,Ud(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Bd("pipe"))}}}function hc(e){e()}function Wd(e,t){return e.pipe(t)}function Gd(e){return!e.length||typeof e[e.length-1]!="function"?mc:e.pop()}function Jd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Gd(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Nd("streams");var o,i=t.map(function(a,s){var l=s<t.length-1,c=s>0;return qd(a,l,c,function(f){o||(o=f),f&&i.forEach(hc),!l&&(i.forEach(hc),n(o))})});return t.reduce(Wd)}yc.exports=Jd});var wc=P((me,pr)=>{"use strict";var ur=require("stream");process.env.READABLE_STREAM==="disable"&&ur?(pr.exports=ur.Readable,Object.assign(pr.exports,ur),pr.exports.Stream=ur):(me=pr.exports=mi(),me.Stream=ur||me,me.Readable=me,me.Writable=ui(),me.Duplex=tt(),me.Transform=Ri(),me.PassThrough=dc(),me.finished=Kn(),me.pipeline=bc())});var vc=P((Kh,_c)=>{"use strict";var{Buffer:ye}=require("buffer"),xc=Symbol.for("BufferList");function B(e){if(!(this instanceof B))return new B(e);B._init.call(this,e)}B._init=function(t){Object.defineProperty(this,xc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};B.prototype._new=function(t){return new B(t)};B.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let o=r+this._bufs[n].length;if(t<o||n===this._bufs.length-1)return[n,t-r];r=o}};B.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};B.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};B.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};B.prototype.copy=function(t,r,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return t||ye.alloc(0);let i=!!t,a=this._offset(n),s=o-n,l=s,c=i&&r||0,f=a[1];if(n===0&&o===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:ye.concat(this._bufs,this.length);for(let u=0;u<this._bufs.length;u++)this._bufs[u].copy(t,c),c+=this._bufs[u].length;return t}if(l<=this._bufs[a[0]].length-f)return i?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);i||(t=ye.allocUnsafe(s));for(let u=a[0];u<this._bufs.length;u++){let p=this._bufs[u].length-f;if(l>p)this._bufs[u].copy(t,c,f),c+=p;else{this._bufs[u].copy(t,c,f,f+l),c+=p;break}l-=p,f&&(f=0)}return t.length>c?t.slice(0,c):t};B.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),o=this._offset(r),i=this._bufs.slice(n[0],o[0]+1);return o[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,o[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)};B.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};B.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};B.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};B.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(ye.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(ye.from(t));return this};B.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};B.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=ye.from([e]):typeof e=="string"?e=ye.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=ye.from(e.buffer,e.byteOffset,e.byteLength):ye.isBuffer(e)||(e=ye.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),o=n[0],i=n[1];for(;o<this._bufs.length;o++){let a=this._bufs[o];for(;i<a.length;)if(a.length-i>=e.length){let l=a.indexOf(e,i);if(l!==-1)return this._reverseOffset([o,l]);i=a.length-e.length+1}else{let l=this._reverseOffset([o,i]);if(this._match(l,e))return l;i++}i=0}return-1};B.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?B.prototype[r]=function(n,o){return this.slice(n,n+o)[r](0,o)}:B.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();B.prototype._isBufferList=function(t){return t instanceof B||B.isBufferList(t)};B.isBufferList=function(t){return t!=null&&t[xc]};_c.exports=B});var Sc=P((Xh,oo)=>{"use strict";var Fi=wc().Duplex,Vd=et(),dr=vc();function ne(e){if(!(this instanceof ne))return new ne(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}dr._init.call(this,e),Fi.call(this)}Vd(ne,Fi);Object.assign(ne.prototype,dr.prototype);ne.prototype._new=function(t){return new ne(t)};ne.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};ne.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};ne.prototype.end=function(t){Fi.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};ne.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};ne.prototype._isBufferList=function(t){return t instanceof ne||t instanceof dr||ne.isBufferList(t)};ne.isBufferList=dr.isBufferList;oo.exports=ne;oo.exports.BufferListStream=ne;oo.exports.BufferList=dr});var jc=P((ug,Fc)=>{"use strict";Fc.exports=Dc;Dc.sync=Xd;var Pc=require("fs");function Kd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function Rc(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Kd(t,r)}function Dc(e,t,r){Pc.stat(e,function(n,o){r(n,n?!1:Rc(o,e,t))})}function Xd(e,t){return Rc(Pc.statSync(e),e,t)}});var Mc=P((pg,Ic)=>{"use strict";Ic.exports=Ac;Ac.sync=Zd;var $c=require("fs");function Ac(e,t,r){$c.stat(e,function(n,o){r(n,n?!1:Oc(o,t))})}function Zd(e,t){return Oc($c.statSync(e),t)}function Oc(e,t){return e.isFile()&&Qd(e,t)}function Qd(e,t){var r=e.mode,n=e.uid,o=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,u=r&c||r&l&&o===a||r&s&&n===i||r&f&&i===0;return u}});var Nc=P((mg,Lc)=>{"use strict";var dg=require("fs"),ao;process.platform==="win32"||global.TESTING_WINDOWS?ao=jc():ao=Mc();Lc.exports=Ii;Ii.sync=em;function Ii(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Ii(e,t||{},function(i,a){i?o(i):n(a)})})}ao(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=!1),r(n,o)})}function em(e,t){try{return ao.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Vc=P((hg,Jc)=>{"use strict";var Ot=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Bc=require("path"),tm=Ot?";":":",Uc=Nc(),qc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Wc=(e,t)=>{let r=t.colon||tm,n=e.match(/\//)||Ot&&e.match(/\\/)?[""]:[...Ot?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Ot?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Ot?o.split(r):[""];return Ot&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:o}},Gc=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:i}=Wc(e,t),a=[],s=c=>new Promise((f,u)=>{if(c===n.length)return t.all&&a.length?f(a):u(qc(e));let p=n[c],y=/^".*"$/.test(p)?p.slice(1,-1):p,g=Bc.join(y,e),d=!y&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;f(l(d,c,0))}),l=(c,f,u)=>new Promise((p,y)=>{if(u===o.length)return p(s(f+1));let g=o[u];Uc(c+g,{pathExt:i},(d,b)=>{if(!d&&b)if(t.all)a.push(c+g);else return p(c+g);return p(l(c,f,u+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},rm=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=Wc(e,t),i=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=Bc.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let u=0;u<n.length;u++){let p=f+n[u];try{if(Uc.sync(p,{pathExt:o}))if(t.all)i.push(p);else return p}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw qc(e)};Jc.exports=Gc;Gc.sync=rm});var Hc=P((gg,Mi)=>{"use strict";var zc=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Mi.exports=zc;Mi.exports.default=zc});var Zc=P((yg,Xc)=>{"use strict";var Yc=require("path"),nm=Vc(),om=Hc();function Kc(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,i=o&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let a;try{a=nm.sync(e.command,{path:r[om({env:r})],pathExt:t?Yc.delimiter:void 0})}catch{}finally{i&&process.chdir(n)}return a&&(a=Yc.resolve(o?e.options.cwd:"",a)),a}function im(e){return Kc(e)||Kc(e,!0)}Xc.exports=im});var Qc=P((bg,Ni)=>{"use strict";var Li=/([()\][%!^"`<>&|;, *?])/g;function am(e){return e=e.replace(Li,"^$1"),e}function sm(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Li,"^$1"),t&&(e=e.replace(Li,"^$1")),e}Ni.exports.command=am;Ni.exports.argument=sm});var tl=P((wg,el)=>{"use strict";el.exports=/^#!(.*)/});var nl=P((xg,rl)=>{"use strict";var cm=tl();rl.exports=(e="")=>{let t=e.match(cm);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o}});var il=P((_g,ol)=>{"use strict";var Bi=require("fs"),lm=nl();function fm(e){let r=Buffer.alloc(150),n;try{n=Bi.openSync(e,"r"),Bi.readSync(n,r,0,150,0),Bi.closeSync(n)}catch{}return lm(r.toString())}ol.exports=fm});var ll=P((vg,cl)=>{"use strict";var um=require("path"),al=Zc(),sl=Qc(),pm=il(),dm=process.platform==="win32",mm=/\.(?:com|exe)$/i,hm=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function gm(e){e.file=al(e);let t=e.file&&pm(e.file);return t?(e.args.unshift(e.file),e.command=t,al(e)):e.file}function ym(e){if(!dm)return e;let t=gm(e),r=!mm.test(t);if(e.options.forceShell||r){let n=hm.test(t);e.command=um.normalize(e.command),e.command=sl.command(e.command),e.args=e.args.map(i=>sl.argument(i,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function bm(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:ym(n)}cl.exports=bm});var pl=P((Sg,ul)=>{"use strict";var Ui=process.platform==="win32";function qi(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function wm(e,t){if(!Ui)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let i=fl(o,t,"spawn");if(i)return r.call(e,"error",i)}return r.apply(e,arguments)}}function fl(e,t){return Ui&&e===1&&!t.file?qi(t.original,"spawn"):null}function xm(e,t){return Ui&&e===1&&!t.file?qi(t.original,"spawnSync"):null}ul.exports={hookChildProcess:wm,verifyENOENT:fl,verifyENOENTSync:xm,notFoundError:qi}});var Ji=P((kg,It)=>{"use strict";var dl=require("child_process"),Wi=ll(),Gi=pl();function ml(e,t,r){let n=Wi(e,t,r),o=dl.spawn(n.command,n.args,n.options);return Gi.hookChildProcess(o,n),o}function _m(e,t,r){let n=Wi(e,t,r),o=dl.spawnSync(n.command,n.args,n.options);return o.error=o.error||Gi.verifyENOENTSync(o.status,n),o}It.exports=ml;It.exports.spawn=ml;It.exports.sync=_m;It.exports._parse=Wi;It.exports._enoent=Gi});var Zl=P((Qy,Am)=>{Am.exports={name:"@thirdweb-dev/cli",main:"dist/cli/index.js",version:"0.14.12",repository:"https://github.com/thirdweb-dev/js/tree/main/legacy_packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=18.0.0"},devDependencies:{eslint:"8.57.0","@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"^0.1.7","@types/async-retry":"^1.4.8","@types/cross-spawn":"^6.0.6","@types/inquirer":"^8.2.10","@types/js-yaml":"^4.0.9","@types/node":"20.12.7","@types/prompts":"^2.4.9","@types/tar":"^6.1.12","@types/update-notifier":"^6.0.8","@types/validate-npm-package-name":"^4.0.2",chalk:"^5.3.0","cross-spawn":"^7.0.3","dotenv-mono":"^1.3.14","eslint-config-thirdweb":"^0.1.9",hardhat:"^2.22.2",ora:"^6.3.1",tsup:"8.0.2",typescript:"5.4.4"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/auth":"4.1.97","@thirdweb-dev/chains":"0.1.120","@thirdweb-dev/sdk":"4.0.99","@thirdweb-dev/storage":"2.0.15","@thirdweb-dev/wallets":"2.5.39","async-retry":"^1.3.3",commander:"^9.5.0","detect-package-manager":"^2.0.1",enquirer:"^2.4.1",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.6","js-yaml":"^4.1.0",open:"^8.4.2",prompts:"^2.4.2",rimraf:"5.0.5",solc:"0.8.25",tar:"^6.2.1","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0","xdg-app-paths":"^8.3.0",yaml:"^2.4.1"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",push:"yalc push"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var Ta=require("@thirdweb-dev/storage");var ja=(e=0)=>t=>`\x1B[${t+e}m`,$a=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Aa=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,U={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},eh=Object.keys(U.modifier),gu=Object.keys(U.color),yu=Object.keys(U.bgColor),th=[...gu,...yu];function bu(){let e=new Map;for(let[t,r]of Object.entries(U)){for(let[n,o]of Object.entries(r))U[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=U[n],e.set(o[0],o[1]);Object.defineProperty(U,t,{value:r,enumerable:!1})}return Object.defineProperty(U,"codes",{value:e,enumerable:!1}),U.color.close="\x1B[39m",U.bgColor.close="\x1B[49m",U.color.ansi=ja(),U.color.ansi256=$a(),U.color.ansi16m=Aa(),U.bgColor.ansi=ja(10),U.bgColor.ansi256=$a(10),U.bgColor.ansi16m=Aa(10),Object.defineProperties(U,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(i=>i+i).join(""));let o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:t=>U.rgbToAnsi256(...U.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,o;if(t>=232)r=((t-232)*10+8)/255,n=r,o=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,o=s%6/5}let i=Math.max(r,n,o)*2;if(i===0)return 30;let a=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return i===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>U.ansi256ToAnsi(U.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>U.ansi256ToAnsi(U.hexToAnsi256(t)),enumerable:!1}}),U}var wu=bu(),ge=wu;var jn=v(require("process"),1),Ia=v(require("os"),1),Uo=v(require("tty"),1);function ue(e,t=globalThis.Deno?globalThis.Deno.args:jn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}var{env:W}=jn.default,Fn;ue("no-color")||ue("no-colors")||ue("color=false")||ue("color=never")?Fn=0:(ue("color")||ue("colors")||ue("color=true")||ue("color=always"))&&(Fn=1);function xu(){if("FORCE_COLOR"in W)return W.FORCE_COLOR==="true"?1:W.FORCE_COLOR==="false"?0:W.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(W.FORCE_COLOR,10),3)}function _u(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function vu(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=xu();n!==void 0&&(Fn=n);let o=r?Fn:n;if(o===0)return 0;if(r){if(ue("color=16m")||ue("color=full")||ue("color=truecolor"))return 3;if(ue("color=256"))return 2}if("TF_BUILD"in W&&"AGENT_NAME"in W)return 1;if(e&&!t&&o===void 0)return 0;let i=o||0;if(W.TERM==="dumb")return i;if(jn.default.platform==="win32"){let a=Ia.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in W)return"GITHUB_ACTIONS"in W||"GITEA_ACTIONS"in W?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in W)||W.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in W)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(W.TEAMCITY_VERSION)?1:0;if(W.COLORTERM==="truecolor"||W.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in W){let a=Number.parseInt((W.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(W.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(W.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(W.TERM)||"COLORTERM"in W?1:i}function Oa(e,t={}){let r=vu(e,{streamIsTTY:e&&e.isTTY,...t});return _u(r)}var Su={stdout:Oa({isTTY:Uo.default.isatty(1)}),stderr:Oa({isTTY:Uo.default.isatty(2)})},Ma=Su;function La(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let o=t.length,i=0,a="";do a+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i);while(n!==-1);return a+=e.slice(i),a}function Na(e,t,r,n){let o=0,i="";do{let a=e[n-1]==="\r";i+=e.slice(o,a?n-1:n)+t+(a?`\r
`:`
`)+r,o=n+1,n=e.indexOf(`
`,o)}while(n!==-1);return i+=e.slice(o),i}var{stdout:Ba,stderr:Ua}=Ma,qo=Symbol("GENERATOR"),_t=Symbol("STYLER"),Zt=Symbol("IS_EMPTY"),qa=["ansi","ansi","ansi256","ansi16m"],vt=Object.create(null),ku=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ba?Ba.level:0;e.level=t.level===void 0?r:t.level};var Eu=e=>{let t=(...r)=>r.join(" ");return ku(t,e),Object.setPrototypeOf(t,Qt.prototype),t};function Qt(e){return Eu(e)}Object.setPrototypeOf(Qt.prototype,Function.prototype);for(let[e,t]of Object.entries(ge))vt[e]={get(){let r=$n(this,Go(t.open,t.close,this[_t]),this[Zt]);return Object.defineProperty(this,e,{value:r}),r}};vt.visible={get(){let e=$n(this,this[_t],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Wo=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?ge[r].ansi16m(...n):t==="ansi256"?ge[r].ansi256(ge.rgbToAnsi256(...n)):ge[r].ansi(ge.rgbToAnsi(...n)):e==="hex"?Wo("rgb",t,r,...ge.hexToRgb(...n)):ge[r][e](...n),Tu=["rgb","hex","ansi256"];for(let e of Tu){vt[e]={get(){let{level:r}=this;return function(...n){let o=Go(Wo(e,qa[r],"color",...n),ge.color.close,this[_t]);return $n(this,o,this[Zt])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);vt[t]={get(){let{level:r}=this;return function(...n){let o=Go(Wo(e,qa[r],"bgColor",...n),ge.bgColor.close,this[_t]);return $n(this,o,this[Zt])}}}}var Cu=Object.defineProperties(()=>{},{...vt,level:{enumerable:!0,get(){return this[qo].level},set(e){this[qo].level=e}}}),Go=(e,t,r)=>{let n,o;return r===void 0?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},$n=(e,t,r)=>{let n=(...o)=>Pu(n,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(n,Cu),n[qo]=e,n[_t]=t,n[Zt]=r,n},Pu=(e,t)=>{if(e.level<=0||!t)return e[Zt]?"":t;let r=e[_t];if(r===void 0)return t;let{openAll:n,closeAll:o}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=La(t,r.close,r.open),r=r.parent;let i=t.indexOf(`
`);return i!==-1&&(t=Na(t,o,n,i)),n+t+o};Object.defineProperties(Qt.prototype,vt);var Ru=Qt(),ch=Qt({level:Ua?Ua.level:0});var m=Ru;var Pn=require("child_process"),su=require("commander"),xt=v(require("fs")),Ca=v(require("open")),Cn=v(require("path")),cu=v(require("prompts")),Pa=v(require("xdg-app-paths"));var El=v(require("assert"));var X=v(require("fs")),Tl=v(require("http")),Cl=v(require("open"));var hr=v(require("process"),1);var Ho=v(require("process"),1);var Qa=v(require("process"),1),es=v(Va(),1),ts=v(Za(),1),Fu=(0,es.default)(()=>{(0,ts.default)(()=>{Qa.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),rs=Fu;var Bn=!1,Tt={};Tt.show=(e=Ho.default.stderr)=>{e.isTTY&&(Bn=!1,e.write("\x1B[?25h"))};Tt.hide=(e=Ho.default.stderr)=>{e.isTTY&&(rs(),Bn=!0,e.write("\x1B[?25l"))};Tt.toggle=(e,t)=>{e!==void 0&&(Bn=e),Bn?Tt.show(t):Tt.hide(t)};var Yo=Tt;var gr=v(Ko(),1);var pe=v(require("process"),1);function tr(){return pe.default.platform!=="win32"?pe.default.env.TERM!=="linux":!!pe.default.env.CI||!!pe.default.env.WT_SESSION||!!pe.default.env.TERMINUS_SUBLIME||pe.default.env.ConEmuTask==="{cmd::Cmder}"||pe.default.env.TERM_PROGRAM==="Terminus-Sublime"||pe.default.env.TERM_PROGRAM==="vscode"||pe.default.env.TERM==="xterm-256color"||pe.default.env.TERM==="alacritty"||pe.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var $u={info:m.blue("\u2139"),success:m.green("\u2714"),warning:m.yellow("\u26A0"),error:m.red("\u2716")},Au={info:m.blue("i"),success:m.green("\u221A"),warning:m.yellow("\u203C"),error:m.red("\xD7")},Ou=tr()?$u:Au,rr=Ou;function Xo({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var Iu=Xo();function Zo(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Iu,"")}var Tc=v(ms(),1);function ei({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var he=v(require("process"),1),kc=v(require("readline"),1),Ec=v(Sc(),1);var zd=3,Re,mr,Ft,Ne,ji=class{constructor(){J(this,Re,0);J(this,mr,new Ec.BufferListStream);J(this,Ft,void 0);J(this,Ne,void 0);w(this,mr).pipe(he.default.stdout);let t=this;j(this,Ft,function(r,n,...o){let{stdin:i}=he.default;if(w(t,Re)>0||i.emit===w(t,Ft)){if(r==="keypress")return;r==="data"&&n.includes(zd)&&he.default.emit("SIGINT"),Reflect.apply(w(t,Ft),this,[r,n,...o])}else Reflect.apply(he.default.stdin.emit,this,[r,n,...o])})}start(){Xt(this,Re)._++,w(this,Re)===1&&this._realStart()}stop(){if(w(this,Re)<=0)throw new Error("`stop` called more times than `start`");Xt(this,Re)._--,w(this,Re)===0&&this._realStop()}_realStart(){he.default.platform!=="win32"&&(j(this,Ne,kc.default.createInterface({input:he.default.stdin,output:w(this,mr)})),w(this,Ne).on("SIGINT",()=>{he.default.listenerCount("SIGINT")===0?he.default.emit("SIGINT"):(w(this,Ne).close(),he.default.kill(he.default.pid,"SIGINT"))}))}_realStop(){he.default.platform!=="win32"&&(w(this,Ne).close(),j(this,Ne,void 0))}};Re=new WeakMap,mr=new WeakMap,Ft=new WeakMap,Ne=new WeakMap;var Hd=new ji,$i=Hd;var Yd=v(Ko(),1);var Be,jt,at,De,z,Se,ee,st,$t,ke,Ee,Te,At,be,we,Ai=class{constructor(t){J(this,Be,0);J(this,jt,!1);J(this,at,0);J(this,De,0);J(this,z,void 0);J(this,Se,void 0);J(this,ee,void 0);J(this,st,void 0);J(this,$t,void 0);J(this,ke,void 0);J(this,Ee,void 0);J(this,Te,void 0);J(this,At,void 0);J(this,be,void 0);J(this,we,void 0);Da(this,"color");typeof t=="string"&&(t={text:t}),j(this,z,{color:"cyan",stream:hr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=w(this,z).color,this.spinner=w(this,z).spinner,j(this,$t,w(this,z).interval),j(this,ee,w(this,z).stream),j(this,ke,typeof w(this,z).isEnabled=="boolean"?w(this,z).isEnabled:ei({stream:w(this,ee)})),j(this,Ee,typeof w(this,z).isSilent=="boolean"?w(this,z).isSilent:!1),this.text=w(this,z).text,this.prefixText=w(this,z).prefixText,this.suffixText=w(this,z).suffixText,this.indent=w(this,z).indent,hr.default.env.NODE_ENV==="test"&&(this._stream=w(this,ee),this._isEnabled=w(this,ke),Object.defineProperty(this,"_linesToClear",{get(){return w(this,Be)},set(r){j(this,Be,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return w(this,De)}}),Object.defineProperty(this,"_lineCount",{get(){return w(this,at)}}))}get indent(){return w(this,Te)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");j(this,Te,t),this.updateLineCount()}get interval(){return w(this,$t)||w(this,Se).interval||100}get spinner(){return w(this,Se)}set spinner(t){if(j(this,De,0),j(this,$t,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");j(this,Se,t)}else if(!tr())j(this,Se,gr.default.line);else if(t===void 0)j(this,Se,gr.default.dots);else if(t!=="default"&&gr.default[t])j(this,Se,gr.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return w(this,At)}set text(t){j(this,At,t||""),this.updateLineCount()}get prefixText(){return w(this,be)}set prefixText(t){j(this,be,t||""),this.updateLineCount()}get suffixText(){return w(this,we)}set suffixText(t){j(this,we,t||""),this.updateLineCount()}get isSpinning(){return w(this,st)!==void 0}getFullPrefixText(t=w(this,be),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}getFullSuffixText(t=w(this,we),r=" "){return typeof t=="string"&&t!==""?r+t:typeof t=="function"?r+t():""}updateLineCount(){let t=w(this,ee).columns||80,r=this.getFullPrefixText(w(this,be),"-"),n=this.getFullSuffixText(w(this,we),"-"),o=" ".repeat(w(this,Te))+r+"--"+w(this,At)+"--"+n;j(this,at,0);for(let i of Zo(o).split(`
`))j(this,at,w(this,at)+Math.max(1,Math.ceil((0,Tc.default)(i)/t)))}get isEnabled(){return w(this,ke)&&!w(this,Ee)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");j(this,ke,t)}get isSilent(){return w(this,Ee)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");j(this,Ee,t)}frame(){let{frames:t}=w(this,Se),r=t[w(this,De)];this.color&&(r=m[this.color](r)),j(this,De,++Xt(this,De)._%t.length);let n=typeof w(this,be)=="string"&&w(this,be)!==""?w(this,be)+" ":"",o=typeof this.text=="string"?" "+this.text:"",i=typeof w(this,we)=="string"&&w(this,we)!==""?" "+w(this,we):"";return n+r+o+i}clear(){if(!w(this,ke)||!w(this,ee).isTTY)return this;w(this,ee).cursorTo(0);for(let t=0;t<w(this,Be);t++)t>0&&w(this,ee).moveCursor(0,-1),w(this,ee).clearLine(1);return(w(this,Te)||this.lastIndent!==w(this,Te))&&w(this,ee).cursorTo(w(this,Te)),this.lastIndent=w(this,Te),j(this,Be,0),this}render(){return w(this,Ee)?this:(this.clear(),w(this,ee).write(this.frame()),j(this,Be,w(this,at)),this)}start(t){return t&&(this.text=t),w(this,Ee)?this:w(this,ke)?this.isSpinning?this:(w(this,z).hideCursor&&Yo.hide(w(this,ee)),w(this,z).discardStdin&&hr.default.stdin.isTTY&&(j(this,jt,!0),$i.start()),this.render(),j(this,st,setInterval(this.render.bind(this),this.interval)),this):(this.text&&w(this,ee).write(`- ${this.text}
`),this)}stop(){return w(this,ke)?(clearInterval(w(this,st)),j(this,st,void 0),j(this,De,0),this.clear(),w(this,z).hideCursor&&Yo.show(w(this,ee)),w(this,z).discardStdin&&hr.default.stdin.isTTY&&w(this,jt)&&($i.stop(),j(this,jt,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:rr.success,text:t})}fail(t){return this.stopAndPersist({symbol:rr.error,text:t})}warn(t){return this.stopAndPersist({symbol:rr.warning,text:t})}info(t){return this.stopAndPersist({symbol:rr.info,text:t})}stopAndPersist(t={}){if(w(this,Ee))return this;let r=t.prefixText||w(this,be),n=this.getFullPrefixText(r," "),o=t.symbol||" ",i=t.text||this.text,a=typeof i=="string"?" "+i:"",s=t.suffixText!==void 0?t.suffixText:w(this,we),l=this.getFullSuffixText(s," "),c=n+o+a+l+`
`;return this.stop(),w(this,ee).write(c),this}};Be=new WeakMap,jt=new WeakMap,at=new WeakMap,De=new WeakMap,z=new WeakMap,Se=new WeakMap,ee=new WeakMap,st=new WeakMap,$t=new WeakMap,ke=new WeakMap,Ee=new WeakMap,Te=new WeakMap,At=new WeakMap,be=new WeakMap,we=new WeakMap;function O(e){return new Ai(e)}var Pl=v(require("url"));function io(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var Oi=class{constructor(t){this._minLevel="info";t?.minLevel&&(this._minLevel=t.minLevel)}setSettings(t){t.minLevel&&(this._minLevel=t.minLevel)}debug(...t){io(this._minLevel,"debug")&&console.info(...t)}info(...t){io(this._minLevel,"info")&&console.info(...t)}warn(...t){io(this._minLevel,"warn")&&console.warn(...t)}error(...t){io(this._minLevel,"error")&&console.error(...t)}},h=new Oi;function ie(e){return O(`${e}
`).start()}function I(e){return O(e).succeed()}function Cc(e){return O(e).warn()}function yr(e){return O(e).fail()}var Rl=require("@thirdweb-dev/auth");var Vi=v(require("@iarna/toml")),Ce=require("fs"),yl=v(require("path"));var hl=v(Ji());async function H(e,t,r=!1,n){return new Promise((o,i)=>{let a=(0,hl.spawn)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("data",s=>{r&&console.error(s.toString())}),a.on("error",s=>{console.log("Spawn error",s)}),a.on("close",s=>{if(s!==0){i({command:`${e}`,exitCode:s});return}o()})})}var bl=v(require("crypto"));function wl(e){return bl.default.randomBytes(e).toString("hex")}function gl(e){return Object.entries(e).map(([t,r])=>{let n="";return typeof r=="string"?n=r:typeof r=="object"&&(n=r.version),n=n.replace("^",""),`${t}==${n}`})}var M=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{},o=t.peerDependencies||{};return{dependencies:r,devDependencies:n,peerDependencies:o}},vm=e=>({dependencies:e.toString().split(`
`)}),Sm=e=>{let t=Vi.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},km=e=>{let t=Vi.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:gl(r),devDependencies:gl(n)}},Ue=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let o=r.indexOf(n)+1;for(;o<r.length&&r[o].trim()!==")";){let i=r[o].trim(),[a,s]=i.split(" ");t.push({name:a,version:s}),o++}}}),{dependencies:t}},qe=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},ce=(e,t)=>{let r=[],n=[];switch(t){case"pip":if(!(0,Ce.existsSync)(e+"/requirements.txt"))break;let i=(0,Ce.readFileSync)(e+"/requirements.txt");r=vm(i).dependencies;break;case"pipenv":if(!(0,Ce.existsSync)(e+"Pipfile"))break;let s=(0,Ce.readFileSync)(e+"Pipfile","utf-8"),l=Sm(s);r=l.dependencies,n=l.devDependencies;break;case"poetry":if(!(0,Ce.existsSync)(e+"/pyproject.toml"))break;let f=(0,Ce.readFileSync)(e+"/pyproject.toml","utf-8");r=km(f).dependencies;break;default:break}return{dependencies:r,devDependencies:n}},Em=async e=>{try{let t=`https://registry.npmjs.org/${e}`,r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json())["dist-tags"].latest}catch(t){console.error(`Failed to get latest version of ${e}:`,t)}},zi=async(e,t,r,n,o)=>{let i="",a=[],s=[],l=[],c=o?.debug||!1;switch(e){case"npm":i="npm",a=["install"],s=["install","--legacy-peer-deps"];break;case"yarn":i="yarn",a=["add"],s=["add"];break;case"pnpm":i="pnpm",a=["install"],s=["update"];break;case"pip":i="pip",a=["install"],s=["install","--upgrade"];break;case"pipenv":i="pipenv",a=["install"],s=["update"];break;case"poetry":i="poetry",a=["add"],s=["update"];break;case"go-modules":i="go",a=["get"],s=["get","-u"];break;case"brownie":i="brownie",a=["pm","install"],s=["pm","update"],l=["pm","delete"];break;case"foundry":i="forge",a=["install","--no-commit"],s=["update"],l=["remove"];break;default:break}if(n==="install"){if(!t.length)return;let f=[...a,...t];await H(i,f,c),o?.oldVersion&&await H(i,[...l,o.oldVersion],c)}if(n==="update"){if(!r.length)return;let f=[...s,...r];await H(i,f,c)}},xl=async e=>{let r=(await Tm()).match(e);return r!==null?{package:r[0],exists:!0}:{package:"",exists:!1}},Tm=async()=>{let e="";return await H("brownie",["pm","list"],!0,t=>{e+=t.toString()}),e=e.replace(/\u001b\[\d+(;\d+)*m/g,""),e},_l=async(e,t)=>{let r=yl.default.join(e,"lib",t);return(0,Ce.existsSync)(r)},vl=e=>{let r=(0,Ce.readFileSync)(e+"/go.mod","utf-8").split(`
`),n=[];for(let o of r)if(o.includes("github.com/thirdweb-dev")){let i=o.split(/\s+/),a=i[1].trim(),s=i[2];n.push({name:a,version:s})}return n},Sl=async e=>{let{detectedPackageManager:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,isJSPackageManager:o}=e;if(o&&(r.has("@thirdweb-dev/contracts")||n.add("@thirdweb-dev/contracts")),t==="brownie"){let i=await Em("@thirdweb-dev/contracts");if(r.has(`thirdweb-dev/contracts@${i}`))return Promise.reject("You already have the latest version of thirdweb-dev/contracts installed.");r.has(`thirdweb-dev/contracts@${i}`)||n.add(`thirdweb-dev/contracts@${i}`)}t==="foundry"&&(r.has("lib/thirdweb-contracts")||n.add("thirdweb-contracts=thirdweb-dev/contracts"))},kl=async e=>{let{detectedFramework:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,hasEthers:o,isJSPackageManager:i,otherDeps:a,isPythonPackageManager:s,isGoPackageManager:l,detectedLibrary:c}=e,u=["react","react-native","next","gatsby","cra","remix","vue","vite","svelte"].includes(t),p=c==="react-native";i&&(!r.has("@thirdweb-dev/react")&&u&&n.add("@thirdweb-dev/react"),!r.has("@thirdweb-dev/sdk")&&!p&&n.add("@thirdweb-dev/sdk"),!r.has("@thirdweb-dev/react-native")&&p&&n.add("@thirdweb-dev/react-native"),!r.has("@thirdweb-dev/react-native-compat")&&p&&n.add("@thirdweb-dev/react-native-compat"),o||a.add("ethers@5")),s&&(r.has("thirdweb-sdk")||n.add("thirdweb-sdk")),l&&(r.has("github.com/thirdweb-dev/go-sdk/v2")||n.add("github.com/thirdweb-dev/go-sdk/v2"))};var Dl=v(require("crypto")),Cm={browser:!0,configPaths:{credsConfigPath:"",cliWalletPath:"",tokenPath:""}};async function Mt(e,t,r){let{credsConfigPath:n,tokenPath:o}=e,i=await Pm(o,n);if(i&&!t?.new)return r&&console.log(m.green("You are already logged in")),globalThis.TW_CLI_AUTH_TOKEN=i,i;{let a=await Rm({browser:!0,configPaths:e});if(!a)throw new Error("Failed to login");return globalThis.TW_CLI_AUTH_TOKEN=a,a}}async function Fl(e,t,r){try{if(O("Logging out...").start(),!(X.default.existsSync(e)&&X.default.existsSync(t)&&X.default.existsSync(r))){O().warn(m.yellow("You are already logged out, did you mean to login?"));return}X.default.unlinkSync(e),X.default.unlinkSync(t),X.default.unlinkSync(r),O().succeed(m.green("You have been logged out"))}catch(n){console.log(m.red("Something went wrong",n))}}async function Pm(e,t){if(!X.default.existsSync(e)||!X.default.existsSync(t))return null;try{return X.default.readFileSync(e,"utf8")}catch(r){console.error(r)}}var Rm=async(e=Cm)=>{let{credsConfigPath:t,cliWalletPath:r,tokenPath:n}=e.configPaths,o=ie("Waiting for a response from the dashboard").clear(),i=await Dm(t,r),a=await i.getAddress(),s="thirdweb.com",c=await new Rl.ThirdwebAuth(i,s).login({domain:s,address:a}),f=wl(32),p=`https://thirdweb.com/cli/login?payload=${encodeURIComponent(JSON.stringify(c))}&#${f}`,y,g,d=new Promise((_,x)=>{g=setTimeout(()=>{h.error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."),y.close(),clearTimeout(g),x(new Error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."))},3e5)}),b=new Promise((_,x)=>{y=Tl.default.createServer(async(E,k)=>{function C(D){clearTimeout(g),y.close(N=>{(D||N)&&x(D||N)})}if(k.setHeader("Access-Control-Allow-Credentials","true"),k.setHeader("Access-Control-Allow-Origin","https://thirdweb.com"),k.setHeader("Access-Control-Allow-Methods","POST"),E.method==="OPTIONS"){k.setHeader("Access-Control-Allow-Headers","content-type, baggage, sentry-trace"),k.writeHead(200),k.end();return}(0,El.default)(E.url,"This request doesn't have a URL");let{pathname:R,query:T}=Pl.default.parse(E.url,!0);switch(R){case"/auth/callback":if(T.failed&&(k.writeHead(500,"Unable to authenticate with the dashboard!"),k.end("Unable to authenticate with the dashboard!",()=>{C(new Error("Unable to authenticate with the dashboard!"))}),x(m.red("Something went wrong! Unable to authenticate with the dashboard.")),o.stop()),T.token){let D=Array.isArray(T.token)?T.token[0]:T.token;(Array.isArray(T.state)?T.state[0]:T.state)!==f?(k.writeHead(400,{"Content-Type":"text/plain"}),k.end("Unauthorized request, state mismatch",()=>{C(new Error("Unauthorized request, state mismatch"))}),x(new Error(m.red(`
Unauthorized request, state mismatch`))),o.stop()):(X.default.writeFileSync(n,D),k.end(()=>{o.clear(),console.log(m.green("Successfully linked your account to this device")),C()}),h.info(m.green(`
Successfully logged in.`)),_(D))}else k.writeHead(400,{"Content-Type":"text/plain"}),k.end("No authToken received",()=>{C(new Error("No authToken received"))}),x(new Error(m.red(`
No authToken received`))),o.stop()}}),y.listen(8976)});return console.log(`Automatically attempting to open a link to authenticate with our dashboard...
`),o.start(),setTimeout(async()=>{await(0,Cl.default)(p)},2e3),console.log(m.yellow(`If the browser doesn't open, please use this link to authenticate:
`)),console.log(m.yellow(p+`
`)),Promise.race([d,b])};async function jl(e){if(X.default.existsSync(e)){let r=X.default.readFileSync(e,"utf8");try{JSON.parse(r)}catch{return X.default.unlinkSync(e),jl(e)}let{password:n}=JSON.parse(r);return n}else return Dl.default.randomUUID()}async function Dm(e,t){let r=await jl(e),{LocalWallet:n}=await import("@thirdweb-dev/wallets"),o=new n;if(X.default.existsSync(t)){let s=X.default.readFileSync(t,"utf8");try{return JSON.parse(s),await o.import({encryptedJson:s,password:r}),o}catch{}}o.generate();let a=await o.export({strategy:"encryptedJson",password:r});return X.default.writeFileSync(t,a,{encoding:"utf8",mode:384}),X.default.writeFileSync(e,JSON.stringify({password:r}),"utf8"),o}var br=async e=>{let t="https://api.thirdweb.com/v1/keys/use";try{if((await fetch(`${t}?scope=storage`,{method:"GET",headers:{"Content-Type":"application/json","x-secret-key":e}})).status!==200)throw new Error("Unauthorized key")}catch{throw new Error(m.red("Unauthorized key"))}};var so=["ContractMetadata","Permissions"];var xe=require("fs"),We=require("path");function oe(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let o=0;o<n.length;o++){let i=(0,We.join)(e,n[o]);if((0,We.basename)(i,".json")==="ThirdwebContract")continue;let a=(0,xe.statSync)(i);if(a.isDirectory()&&(0,We.basename)(i)==="dependencies"){h.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,We.basename)(i)==="node_modules"){h.debug('skipping "node_modules" directory');continue}a.isDirectory()?oe(i,t,r):t.test(i)&&r.push(i)}}function Hi(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let o=0;o<n.length;o++){let i=(0,We.join)(e,n[o]),a=(0,xe.statSync)(i);if(!(a.isDirectory()&&(0,We.basename)(i)==="node_modules")&&!(a.isDirectory()&&i.startsWith(".")))if(a.isDirectory())Hi(i,t,r);else{let l=(0,xe.readFileSync)(i,"utf-8").match(t);l&&r.push(...l)}}}var $l=require("child_process");async function Y(e,t,r={log:!1,cwd:t},n=12e5){return new Promise((o,i)=>{let a=(0,$l.exec)(e,{...r},(l,c,f)=>{if(l){i(l);return}clearTimeout(s),o({stdout:c,stderr:f})}),s=setTimeout(()=>{a.kill(),i(new Error("Command timeout"))},n)})}var Al=require("@thirdweb-dev/sdk/evm"),le=class{shouldProcessContract(t,r,n,o){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return h.debug(`Skipping '${n}'.`),!1;if(!o){let i;try{i=(0,Al.extractIPFSHashFromBytecode)(r)}catch(a){h.debug(`Error extracting IPFS hash from '${n}': ${a}`)}if(!i)return h.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1}return!0}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(h.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var ct=require("fs"),Lt=require("path"),Ol=require("yaml"),co=class extends le{async compile(t){let r=(0,Ol.parse)((0,ct.readFileSync)((0,Lt.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,Lt.join)(t.projectPath,r?.project_structure?.build||"./build");(0,ct.existsSync)(n)&&(0,ct.rmSync)(n,{recursive:!0}),await Y("brownie compile",t.projectPath);let o=(0,Lt.join)(n,"contracts/"),i=[],a=[];oe(o,/^.*(?<!dbg)\.json$/,a);for(let s of a){h.debug("Processing:",s.replace(o,""));let l=(0,Lt.basename)(s,".json"),c=(0,ct.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:u,bytecode:p}=f;for(let y of u)if(this.isThirdwebContract(y)){i.find(g=>g.name===l)&&(h.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),i.push({metadata:{},bytecode:p,sources:[],fileName:"",name:l,compilerVersion:"",evmVersion:""});break}}return{contracts:i}}};var Yi=require("ethers"),Il=require("ethers/lib/utils");function Ki(e,t){let r=t||[],[n,o]=e.split(":");if(!(0,Il.isAddress)(o))throw new Error(`Invalid address ${o} `);return r.push({library:n,address:o}),r}function Nt(e,t={}){let r=e;for(let[n,o]of Object.entries(t)){let i=`__$${Yi.utils.solidityKeccak256(["string"],[n]).slice(2,36)}$__`,a=Yi.utils.getAddress(o).toLowerCase().replace("0x","");r=r.replaceAll(i,a)}return r}var Ml=require("child_process");async function lo(){return await new Promise(e=>{(0,Ml.exec)("forge --version",t=>{e(!t)})})}var lt=require("fs"),ft=require("path"),fo=class extends le{async compile(t){await lo()||(console.error(`
${m.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${m.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await Y("forge clean",t.projectPath),await Y("forge build --extra-output metadata",t.projectPath);let n=(await Y("forge config --json",t.projectPath)).stdout,o=JSON.parse(n),i=(0,ft.join)(t.projectPath,o.out),a=[],s=[];oe(i,/^.*(?<!metadata)\.json$/,s);let l={};if(Array.isArray(t.linkLib)&&t.linkLib.length>0){for(let c=0;c<s.length;c++){let f=s[c],u=(0,ft.basename)(f,".json"),p=(0,lt.readFileSync)(f,"utf-8"),y=JSON.parse(p);t.linkLib.forEach(g=>{if(u===g.library){let d=`${y.ast.absolutePath}:${g.library}`;l[d]=g.address}})}h.debug(`Found libraries to link: ${JSON.stringify(l)}`)}for(let c=0;c<s.length;c++){let f=s[c],u=(0,ft.basename)(f,".json"),p=(0,lt.readFileSync)(f,"utf-8"),y=JSON.parse(p);if(!y.bytecode||!y.deployedBytecode||!y.metadata){h.debug("Skipping",u,"(no bytecode or metadata)");continue}let g=y.metadata.settings.compilationTarget;if(Object.keys(g).length===0||Object.keys(g)[0].includes("@")||this.isTestOrScript(Object.keys(g)[0])){h.debug("Skipping",u,"(not a source target)");continue}if(u.startsWith("std")){h.debug("Skipping",u,"(std library contract)");continue}let d=y.bytecode.object,b=y.deployedBytecode.object;d=Nt(d,l),b=Nt(b,l);let _=y.metadata,x=y.rawMetadata||this.sanitizeParsedMetadata(_,y.abi),E=x.settings?.evmVersion||"",k=x.compiler?.version||"",C=Object.keys(_.sources).map(D=>{if(D.startsWith("/")&&(0,lt.existsSync)(D))return D;let N=(0,ft.join)(t.projectPath,D);if((0,lt.existsSync)(N))return N;let A=(0,ft.join)(t.projectPath,"node_modules",D);if((0,lt.existsSync)(A))return A}).filter(D=>D!==void 0),R=Object.keys(_?.settings?.compilationTarget||{}),T=R.length>0?R[0]:"";this.shouldProcessContract(y.abi,b,u)&&a.push({name:u,metadata:x,bytecode:d,fileName:T,sources:C,compilerVersion:k,evmVersion:E})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;let r=Object.keys(t);r.sort();let n={};for(let o=0;o<r.length;o++)n[r[o]]=this.sort(t[r[o]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Bt=require("fs"),Ge=require("path"),uo=class extends le{async compile(t){let r=(0,Ge.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Y(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,o=JSON.parse(n.split("__tw__")[1]);h.debug("successfully extracted hardhat config",o),await Y("npx hardhat clean",t.projectPath),await Y("npx hardhat compile",t.projectPath);let i=o.solidity.compilers;if(i)for(let y of i){let g=y.settings?.metadata?.bytecodeHash;if(g&&g!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${g}'". Please change it to 'ipfs' and try again.`)}let a=o.paths.artifacts,s=o.paths.sources.replace(t.projectPath,""),l=(0,Ge.join)(a,s),c=[];oe(l,/^.*(?<!dbg)\.json$/,[]);let u=(0,Ge.join)(a,"build-info"),p=[];oe(u,/^.*(?<!dbg)\.json$/,p);for(let y of p){let g=(0,Bt.readFileSync)(y,"utf-8"),b=JSON.parse(g).output.contracts,_={};if(Array.isArray(t.linkLib)&&t.linkLib.length>0){for(let[x,E]of Object.entries(b)){let k=Object.keys(E);t.linkLib.forEach(C=>{if(k.includes(C.library)){let R=`${x}:${C.library}`;_[R]=C.address}})}h.debug(`Found libraries to link: ${JSON.stringify(_)}`)}for(let[x,E]of Object.entries(b)){if(x.includes("@")){h.debug("Skipping",x,"(not a source target)");continue}for(let[k,C]of Object.entries(E)){let R=C;if(!R.evm||!R.evm.bytecode||!R.evm.bytecode.object||!R.metadata||!R.abi){h.debug("Skipping",x,"(no bytecode or metadata)");continue}let T=R.evm.bytecode.object,D=R.evm.deployedBytecode.object;T=Nt(T,_),D=Nt(D,_);let{metadata:N,abi:A}=R,S=JSON.parse(N),re=S.settings?.evmVersion||"",se=S.compiler?.version||"",No=Object.keys(S.sources).map(Xe=>{let $e=(0,Ge.join)(t.projectPath,Xe);if((0,Bt.existsSync)($e))return $e;let Yt=(0,Ge.join)(t.projectPath,s,Xe);if((0,Bt.existsSync)(Yt))return Yt;let Kt=(0,Ge.join)(t.projectPath,"node_modules",Xe);if((0,Bt.existsSync)(Kt))return Kt}).filter(Xe=>Xe!==void 0),Rn=Object.keys(S?.settings?.compilationTarget||{}),Dn=Rn.length>0?Rn[0]:"";this.shouldProcessContract(A,D,k)&&c.push({metadata:N,bytecode:T,name:k,fileName:Dn,sources:No,compilerVersion:se,evmVersion:re})}}}return{contracts:c}}};var Z=require("fs"),Fe=require("path"),Ll=v(require("solc")),po=class extends le{async compile(t){let r=[];oe(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let u=(0,Z.readFileSync)(f,"utf-8");return c[(0,Fe.basename)(f)]={content:u},c},{}),o={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},i=JSON.parse(Ll.default.compile(JSON.stringify(o),{import:c=>{let f=(0,Fe.join)(t.projectPath,"node_modules",c);return(0,Z.existsSync)(f)?{contents:(0,Z.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(i.errors)throw h.error(i.errors),new Error("Error compiling Solidity files");let a=(0,Fe.join)(t.projectPath,"artifacts");(0,Z.existsSync)(a)&&(0,Z.rmSync)(a,{recursive:!0}),(0,Z.existsSync)(a)||(0,Z.mkdirSync)(a),Object.keys(i.contracts).filter(c=>c in n).forEach(c=>{let f=i.contracts[c],u=(0,Fe.join)(t.projectPath,"artifacts",c);(0,Z.existsSync)(u)||(0,Z.mkdirSync)(u);let p=Object.keys(f);for(let y of p){let g=f[y],d=(0,Fe.join)(u,y+".json");(0,Z.writeFileSync)(d,JSON.stringify(g,null,2))}});let s=[],l=[];oe(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){h.debug("Processing:",c.replace(a,""));let f=(0,Fe.basename)(c,".json"),u=(0,Z.readFileSync)(c,"utf-8"),p=JSON.parse(u),y=p.evm.bytecode.object,g=p.evm.deployedBytecode.object,d=p.metadata,b=JSON.parse(d),_=b.output.abi,x=b.settings?.evmVersion||"",E=b.compiler?.version||"",k=b.settings.compilationTarget;if(Object.keys(k).length===0||Object.keys(k)[0].includes("@")){h.debug("Skipping",f,"(not a source target)");continue}let C=Object.keys(b.sources).map(D=>{let N=r.find(S=>S.includes(D));if(N&&(0,Z.existsSync)(N))return N;let A=(0,Fe.join)(t.projectPath,"node_modules",D);if((0,Z.existsSync)(A))return A}).filter(D=>D!==void 0),R=Object.keys(b?.settings?.compilationTarget||{}),T=R.length>0?R[0]:"";this.shouldProcessContract(_,g,f)&&s.push({metadata:d,bytecode:y,name:f,fileName:T,sources:C,compilerVersion:E,evmVersion:x})}return{contracts:s}}};var Je=require("fs"),wr=require("path"),mo=class extends le{async compile(t){let r=require((0,wr.join)(t.projectPath,"truffle-config.js")),n=(0,wr.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,Je.existsSync)(n)&&(0,Je.rmSync)(n,{recursive:!0}),await Y("npx --yes truffle compile",t.projectPath);let o=[],i=[];oe(n,/^.*(?<!dbg)\.json$/,i);for(let a of i){h.debug("Processing:",a.replace(n,""));let s=(0,Je.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:u,deployedBytecode:p}=l,y=JSON.parse(f),g=y.output.abi,d=y.settings?.evmVersion||"",b=y.compiler?.version||"",_=y.settings.compilationTarget;if(Object.keys(_).length===0||Object.keys(_)[0].includes("@")){h.debug("Skipping",c,"(not a source target)");continue}let x=Object.keys(y.sources).map(C=>{C=C.replace("project:/","");let R=(0,wr.join)(t.projectPath,C);if((0,Je.existsSync)(R))return R;let T=(0,wr.join)(t.projectPath,"node_modules",C);if((0,Je.existsSync)(T))return T}).filter(C=>C!==void 0),E=Object.keys(y?.settings?.compilationTarget||{}),k=E.length>0?E[0]:"";this.shouldProcessContract(g,p,c)&&o.push({metadata:f,bytecode:u,name:c,fileName:k,sources:x,compilerVersion:b,evmVersion:d})}return{contracts:o}}};var Ut=require("fs"),Ve=require("path"),ho=class extends le{async compile(t){let r=(0,Ve.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Y(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,o=JSON.parse(n.split("__tw__")[1]);h.debug("successfully extracted hardhat config",o),await Y("npx hardhat clean",t.projectPath);let i=!1,a=Object.entries(o.networks).find(g=>g[1].zksync);(a?.[1]).zksync||(h.warn("ZKSync settings not found. Aborting."),process.exit(1)),i=(a?.[1]).zksync,await Y(`npx hardhat compile --network ${a?.[0]}`,t.projectPath);let s=o.paths.artifacts,l=o.paths.sources.replace(t.projectPath,""),c=(0,Ve.join)(s,l),f=[];oe(c,/^.*(?<!dbg)\.json$/,[]);let p=(0,Ve.join)(s,"build-info"),y=[];oe(p,/^.*(?<!dbg)\.json$/,y);for(let g of y){let d=(0,Ut.readFileSync)(g,"utf-8"),_=JSON.parse(d).output.contracts;for(let[x,E]of Object.entries(_)){if(x.includes("@")){h.debug("Skipping",x,"(not a source target)");continue}for(let[k,C]of Object.entries(E)){let R=C;if(!R.evm||!R.evm.bytecode||!R.evm.bytecode.object||!R.metadata||!R.abi){h.debug("Skipping",x,"(no bytecode or metadata)");continue}let T=R.evm.bytecode.object,D=R.evm.deployedBytecode?.object||T,{metadata:N,abi:A}=R,S=N.solc_metadata?JSON.parse(N.solc_metadata):JSON.parse(N),re=N.zk_version;S.settings.zkVersion=re;let se=S.settings?.evmVersion||"",No=re||"",Rn=Object.keys(S.sources).map($e=>{let Yt=(0,Ve.join)(t.projectPath,$e);if((0,Ut.existsSync)(Yt))return Yt;let Kt=(0,Ve.join)(t.projectPath,l,$e);if((0,Ut.existsSync)(Kt))return Kt;let Ra=(0,Ve.join)(t.projectPath,"node_modules",$e);if((0,Ut.existsSync)(Ra))return Ra}).filter($e=>$e!==void 0),Dn=Object.keys(S?.settings?.compilationTarget||{}),Xe=Dn.length>0?Dn[0]:"";this.shouldProcessContract(A,D,k,i)&&f.push({metadata:JSON.stringify(S),bytecode:T,name:k,fileName:Xe,sources:Rn,compilerVersion:No,evmVersion:se})}}}return{contracts:f}}};async function ze(e,t,r){let n;switch(t){case"hardhat":{n=new uo;break}case"zk-hardhat":{n=new ho;break}case"foundry":{n=new fo;break}case"truffle":{n=new mo;break}case"brownie":{n=new co;break}default:{n=new po;break}}return await n.compile({name:"",projectPath:e,clean:r.clean,zksync:r.zksync,linkLib:r.linkLib})}var je={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},Nl={chains:"What chains are you using in your project?"},Bl={noConfiguration:"No contract project configuration file found in current directory"};var Ul=require("fs"),xr=class{constructor(){this.projectType="foundry"}matches(t){return(0,Ul.existsSync)(t+"/foundry.toml")}};var Xi=require("fs"),_r=class{constructor(){this.projectType="hardhat"}matches(t){return(0,Xi.existsSync)(t+"/hardhat.config.js")||(0,Xi.existsSync)(t+"/hardhat.config.ts")}};var ql=require("fs"),vr=class{constructor(){this.projectType="truffle"}matches(t){return(0,ql.existsSync)(t+"/truffle-config.js")}};var go=require("fs"),Wl=v(require("inquirer")),Gl=require("path"),{Confirm:Fm}=require("enquirer");async function ut(e,t){let n=[new _r,new xr,new vr].filter(i=>i.matches(e)).map(i=>i.projectType);if(t.zksync&&n.filter(a=>a==="hardhat").length===0&&(h.warn("ZKSync compilation requires hardhat plugins. Aborting."),process.exit(1)),!n.length)return jm(e)?(Cc(`${Bl.noConfiguration} ${e}`),await new Fm({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(h.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return t.zksync?I("ZKSync compilation will use hardhat"):I(`Detected project type: ${n[0]}`),n[0];t.zksync?(I("ZKSync compilation will use hardhat"),I(`For regular solc compilation, these are the available options: ${n.map(i=>`"${i}"`).join(", ")}`)):I(`Detected multiple possible build tools: ${n.map(i=>`"${i}"`).join(", ")}`);let o="How would you like to compile your contracts";return t.ci?n[0]:(await Wl.default.prompt({type:"list",choices:n,name:o}))[o]}function jm(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,go.existsSync)(r)?(0,go.readdirSync)(r).filter(i=>{let{ext:a}=(0,Gl.parse)(i);return a===".sol"}).length>0:!1}).length>0}var Jl=v(require("prompts")),{MultiSelect:$m}=require("enquirer");function qt(e,t){return new $m({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:m.blueBright,get em(){return this.primary}}})}async function Vl(e,t){return await(0,Jl.default)({type:"select",name:"routerType",message:t,choices:e})}var Zi=require("child_process");function Wt(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,Zi.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,Zi.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var zl=require("@thirdweb-dev/sdk");var yo=require("fs");var Hl=v(require("path"));async function Yl(e){h.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(h.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Hl.default.resolve(`${t}/${e.path}`)),h.debug("Processing project at path "+t);let r=await ut(t,e),n,o=ie("Compiling project...");try{n=await ze(t,r,e)}catch(s){o.fail("Compilation failed"),h.error(s),process.exit(1)}o.succeed("Compilation successful");let i=[];if(n.contracts.length===1)i=[n.contracts[0]];else if(e.all)i=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await qt(s,"Choose which contracts to run detection on").run();i=Object.keys(c).map(f=>c[f])}i.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=Kl((0,zl.detectFeatures)(l)),f=c.enabledFeatures.map(p=>({name:p.name,reference:`https://portal.thirdweb.com/interfaces/${p.name.toLowerCase()}`})),u=c.suggestedFeatures.map(p=>({name:p.name,reference:`https://portal.thirdweb.com/interfaces/${p.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:u}}).map(s=>{h.info(`
`),s.enabledFeatures.length===0?O(`No extensions detected on ${m.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(O(`Detected extension on ${m.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{h.info(`\u2714\uFE0F ${m.green(c.name)}`)})),h.info(""),O("Suggested extensions").info(),s.suggestedFeatures.map(c=>{h.info(`${m.dim(m.gray("-"))} ${m.gray(c.name)} - ${m.dim(m.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,yo.existsSync)(t+"/package.json")){let c=Wt(),f=c==="yarn";JSON.parse((0,yo.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}h.info(""),O("Once you're done writing your contracts, you can run the following command to deploy them:").info(),h.info(""),h.info(`     ${m.cyan(l)}`),h.info("")})}function Kl(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let o in e){let i=e[o];i.enabled?t.push(i):(t.findIndex(a=>a.name===n)>-1||so.includes(i.name))&&r.push(i),Kl(i.features,t,r,i.name)}return{enabledFeatures:t,suggestedFeatures:r}}var kr=require("@thirdweb-dev/storage");var Sr=require("ethers"),Jt=require("fs");var Ql=v(require("path"));var Xl="0x0000000000000000000000000000000000000000",Qi={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var ea="https://thirdweb.com",ta=Zl(),Gt=ta.version;async function bo(e,t,r){let n;r?n=new kr.ThirdwebStorage({secretKey:r}):n=new kr.ThirdwebStorage,h.setSettings({minLevel:e.debug?"debug":"info"});let o=process.cwd();e.path&&(h.debug("Overriding project path to "+e.path),o=e.path.startsWith("/")?e.path:Ql.default.resolve(`${o}/${e.path}`)),h.debug("Processing project at path "+o);let i=await ut(o,e);if(i==="none"){if(t==="deploy")return I("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";yr("No detected contracts in this directory."),h.info(""),O("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),h.info(""),O("To create a new contracts project, run the following command:").info(),h.info(""),h.info(`     ${m.cyan("npx thirdweb@latest create --contract")}`),h.info(""),process.exit(1)}if(e.ci){h.info("Installing dependencies...");try{switch(i){case"foundry":{await Y("npm install",o),await Y("forge install",o);break}default:{await Y("npm install",o);break}}}catch(d){h.warn("Could not install dependencies",d)}}let a,s,l=ie("Compiling project...");try{if(a=await ze(o,i,e),e.zksync){if(s=await ze(o,"zk-hardhat",e),a.contracts.length!==s.contracts.length){let d=new Set(a.contracts.map(x=>x.fileName)),b=new Set(s.contracts.map(x=>x.fileName)),_=new Set([...d].filter(x=>b.has(x)));a.contracts=a.contracts.filter(x=>_.has(x.fileName)),s.contracts=s.contracts.filter(x=>_.has(x.fileName))}}else s={contracts:[]}}catch(d){l.fail("Compilation failed"),h.error(d),process.exit(1)}l.succeed("Compilation successful"),a.contracts.length===0&&(h.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let c={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let d=Object.keys(Qi).map(x=>({title:x,value:x})),b="",_=await Vl(d,"Choose a router to deploy");typeof _.routerType=="string"&&(b=_.routerType.trim()),c=Qi[b]}e.dynamic&&!c&&(yr("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!c.name&&(yr("No router selected. Please select a router contract to deploy."),process.exit(1));let f=[];if(a.contracts.length===1)f=[a.contracts[0]],I(`Processing contract: ${m.blueBright(f.map(d=>`"${d.name}"`).join(", "))}`);else if(e.ci)f=a.contracts;else{let d=a.contracts.filter(E=>typeof e.file=="string"&&e.file.length>0?E.fileName.includes(e.file):!0).filter(E=>typeof e.contractName=="string"&&e.contractName.length>0?E.name.includes(e.contractName):!0);d.length===0&&(h.error("No contracts found matching the specified filters."),process.exit(1));let b=d.map(E=>a.contracts.filter(k=>k.name===E.name).length>1?{name:`${E.name} - ${m.gray(E.fileName)}`,value:E}:{name:E.name,value:E}),x=await qt(b,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();f=Object.keys(x).map(E=>x[E])}f.length===0&&(yr(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1));let u=[];if(e.zksync){let d=f.map(b=>b.fileName);u=s.contracts.filter(b=>d.indexOf(b.fileName)!==-1),u.length!==f.length&&(I("Selected contract not present in zksolc compiled contracts. Aborting."),process.exit(1))}e.dryRun&&(I("Dry run, skipping deployment"),process.exit(0));let p="@thirdweb-dev/contracts",y=!1;if(e.dynamic)if(c.name==="thirdweb-router"){let d={extensionRegistry:Xl,extensionNames:f.map(_=>_.name)},b=JSON.stringify(d,void 0,2);(0,Jt.writeFileSync)("./deployArgs.json",b,"utf-8"),I("Deployment parameters written to deployArgs.json in your project directory")}else{let d=await Im(f,r),b=JSON.stringify(d,void 0,2);(0,Jt.writeFileSync)("./deployArgs.json",b,"utf-8"),I("Deployment parameters written to deployArgs.json in your project directory")}let g=ie("Uploading contract data...");try{for(let k=0;k<f.length;k++){let C=f[k];if(C.sources)for(let T=0;T<C.sources.length;T=T+3){let D=C.sources.slice(T,T+3);h.debug(`Uploading Sources:
${D.join(`
`)}
`),await Promise.all(D.map(async N=>{let A=(0,Jt.readFileSync)(N,"utf-8");return A.includes(p)&&(y=!0),await n.upload(A,{uploadWithoutDirectory:!0})}))}}let d=await Promise.all(f.map(async k=>(h.debug(`Uploading ${k.name}...`),await n.upload(JSON.parse(JSON.stringify(k.metadata)),{uploadWithoutDirectory:!0})))),b=f.map(k=>k.bytecode),_=await n.uploadBatch(b),x=[];if(e.dynamic){let k={command:t,contract_name:c.name,cli_version:Gt,project_type:i,from_ci:e.ci||!1,uses_contract_extensions:y};x.push({name:c.name,metadataUri:c.metadataUri,bytecodeUri:c.bytecodeUri,analytics:k})}else x=f.map((k,C)=>{let R={command:t,contract_name:k.name,cli_version:Gt,project_type:i,from_ci:e.ci||!1,uses_contract_extensions:y};return{name:k.name,metadataUri:d[C],bytecodeUri:_[C],analytics:R,compilers:{solc:[{compilerVersion:a.contracts[0].compilerVersion,evmVersion:a.contracts[0].evmVersion,metadataUri:d[C],bytecodeUri:_[C]}]}}});if(u.length>0){for(let T=0;T<u.length;T++){let D=u[T];if(D.sources)for(let A=0;A<D.sources.length;A=A+3){let S=D.sources.slice(A,A+3);h.debug(`Uploading Sources:
${S.join(`
`)}
`),await Promise.all(S.map(async re=>{let se=(0,Jt.readFileSync)(re,"utf-8");return se.includes(p)&&(y=!0),await n.upload(se,{uploadWithoutDirectory:!0})}))}}let k=await Promise.all(u.map(async T=>(h.debug(`Uploading ${T.name}...`),await n.upload(JSON.parse(JSON.stringify(T.metadata)),{uploadWithoutDirectory:!0})))),C=u.map(T=>T.bytecode),R=await n.uploadBatch(C);x=x.map((T,D)=>({...T,compilers:{zksolc:[{compilerVersion:s.contracts[0].compilerVersion,evmVersion:s.contracts[0].evmVersion,metadataUri:k[D],bytecodeUri:R[D]}],solc:[{compilerVersion:a.contracts[0].compilerVersion,evmVersion:a.contracts[0].evmVersion,metadataUri:d[D],bytecodeUri:_[D]}]}}))}let E=[];if(x.length===1){let k=await n.upload(x[0],{uploadWithoutDirectory:!0});E.push(k)}else E=await n.uploadBatch(x);return g.succeed("Upload successful"),Om(E,t)}catch(d){throw g.fail("Error uploading metadata"),new Error(d.message?d.message:d)}}function Om(e,t){let r;if(e.length===1)r=new URL(ea+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(ea+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function Im(e,t){let r;t?r=new kr.ThirdwebStorage({secretKey:t}):r=new kr.ThirdwebStorage;let n=[],o=[];for(let i of e){let a={name:i.name,metadataURI:await Mm(i,r),implementation:Sr.ethers.constants.AddressZero},s=JSON.parse(i.metadata).output.abi,l=new Sr.ethers.utils.Interface(s),c=[],f=l.functions;for(let u of Object.keys(f))c.push({functionSelector:l.getSighash(f[u]),functionSignature:u});n.push({metadata:a,functions:c}),o.push({name:i.name,amount:0,salt:Sr.ethers.utils.keccak256(Sr.ethers.utils.toUtf8Bytes(i.name)),bytecode:i.bytecode})}return{extensions:n,extensionDeployArgs:o}}async function Mm(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var lf=v(require("inquirer"));var ef=require("fs"),Er=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,ef.existsSync)(t+"/package-lock.json")}};var tf=require("fs"),Tr=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,tf.existsSync)(t+"/yarn.lock")}};var rf=require("fs"),Cr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,rf.existsSync)(t+n))}};var nf=require("fs"),Pr=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,nf.existsSync)(t+"/requirements.txt")}};var of=require("fs"),Rr=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,of.existsSync)(t+n))}};var af=require("fs"),Dr=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,af.existsSync)(t+n))}};var ra=require("fs"),Fr=class{constructor(){this.packageManagerType="brownie"}matches(t){let n=["/brownie-config.yaml","/brownie-config.json"].some(a=>(0,ra.existsSync)(t+a)),i=["/build","/contracts","/reports"].every(a=>(0,ra.existsSync)(t+a));return n||i||!1}};var sf=require("fs"),jr=class{constructor(){this.packageManagerType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(o=>(0,sf.existsSync)(t+o))||!1}};var cf=require("fs"),$r=class{constructor(){this.packageManagerType="go-modules"}matches(t){return(0,cf.existsSync)(t+"/go.mod")}};async function pt(e,t){let n=[new Er,new Tr,new Cr,new Pr,new Rr,new Dr,new $r,new Fr,new jr].filter(i=>i.matches(e)).map(i=>i.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("brownie")&&n.includes("pip"))return"brownie";I(`Detected multiple possible package managers: ${n.map(i=>`"${i}"`).join(", ")}`);let o="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await lf.default.prompt({type:"list",choices:n,name:o}))[o]}var hf=v(require("inquirer"));var na=require("fs");var Ar=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(c=>(0,na.existsSync)(t+c)),l=["/build","/contracts","/reports"].every(c=>(0,na.existsSync)(t+c));return!!n.find(c=>c.includes("brownie"))||!!o.find(c=>c.includes("brownie"))||a||l||!1}};var wo=require("fs");var Or=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,wo.existsSync)(r))return!1;let n=(0,wo.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n);return!!o["react-scripts"]||!!i["react-scripts"]||!1}};var ff=require("fs");var Ir=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r),a=["/manage.py"].some(s=>(0,ff.existsSync)(t+s));return!!n.find(s=>s.includes("Django"))||!!o.find(s=>s.includes("Django"))||a||!1}};var dt=require("fs");var Mr=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,dt.existsSync)(r)&&!(0,dt.existsSync)(n))return!1;if((0,dt.existsSync)(r)){let s=(0,dt.readFileSync)(r,"utf-8"),{dependencies:l}=Ue(s);o=["github.com/labstack/echo"].some(f=>l.some(u=>u.name===f))}let i=(0,dt.readFileSync)(n,"utf-8"),a=qe(i,"github.com/labstack/echo");return o||a||!1}};var Lr=require("fs");var Nr=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,Lr.existsSync)(r))return!1;let n=(0,Lr.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/app.json","/app.config.js"].some(c=>(0,Lr.existsSync)(t+c));return!!o.expo||!!i.expo||s||!1}};var uf=require("fs");var Br=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r),a=[].some(s=>(0,uf.existsSync)(t+s));return!!n.find(s=>s.includes("fastapi"))||!!o.find(s=>s.includes("fastapi"))||a||!1}};var Ur=require("fs");var qr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Ur.existsSync)(r))return!1;let n=(0,Ur.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=[].some(c=>(0,Ur.existsSync)(t+c));return!!o.fastify||!!i.fastify||s||!1}};var mt=require("fs");var Wr=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,mt.existsSync)(r)&&!(0,mt.existsSync)(n))return!1;if((0,mt.existsSync)(r)){let s=(0,mt.readFileSync)(r,"utf-8"),{dependencies:l}=Ue(s);o=["github.com/gofiber/fiber"].some(f=>l.some(u=>u.name===f))}let i=(0,mt.readFileSync)(n,"utf-8"),a=qe(i,"github.com/gofiber/fiber");return o||a||!1}};var pf=require("fs");var Gr=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r),a=[].some(s=>(0,pf.existsSync)(t+s));return!!n.find(s=>s.includes("Flask"))||!!o.find(s=>s.includes("Flask"))||a||!1}};var df=require("fs"),Jr=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(o=>(0,df.existsSync)(t+o))||!1}};var Vr=require("fs");var zr=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,Vr.existsSync)(r))return!1;let n=(0,Vr.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,Vr.existsSync)(t+c));return!!o.gatsby||!!i.gatsby||s||!1}};var ht=require("fs");var Hr=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,ht.existsSync)(r)&&!(0,ht.existsSync)(n))return!1;if((0,ht.existsSync)(r)){let s=(0,ht.readFileSync)(r,"utf-8"),{dependencies:l}=Ue(s);o=["github.com/gin-gonic/gin"].some(f=>l.some(u=>u.name===f))}let i=(0,ht.readFileSync)(n,"utf-8"),a=qe(i,"github.com/gin-gonic/gin");return o||a||!1}};var Yr=require("fs");var Kr=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Yr.existsSync)(r))return!1;let n=(0,Yr.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/hardhat.config.js"].some(c=>(0,Yr.existsSync)(t+c));return!!o.hardhat||!!i.hardhat||s||!1}};var Xr=require("fs");var Zr=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,Xr.existsSync)(r))return!1;let n=(0,Xr.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,Xr.existsSync)(t+c));return!!o.next||!!i.next||s||!1}};var mf=require("fs");var Qr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,mf.existsSync)(t+s));return!!n.find(s=>s==="populus")||!!o.find(s=>s==="populus")||a||!1}};var en=require("fs");var tn=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,en.existsSync)(r))return!1;let n=(0,en.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=[].some(l=>(0,en.existsSync)(t+l));return!!o["react-native"]||!!i["react-native"]||s||!1}};var rn=require("fs");var nn=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,rn.existsSync)(r))return!1;let n=(0,rn.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,rn.existsSync)(t+c));return Object.keys(o).concat(Object.keys(i)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var gt=require("fs");var on=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",o=!1;if(!(0,gt.existsSync)(r)&&!(0,gt.existsSync)(n))return!1;if((0,gt.existsSync)(r)){let s=(0,gt.readFileSync)(r,"utf-8"),{dependencies:l}=Ue(s);o=["github.com/revel/revel"].some(f=>l.some(u=>u.name===f))}let i=(0,gt.readFileSync)(n,"utf-8"),a=qe(i,"github.com/revel/revel");return o||a||!1}};var an=require("fs");var sn=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,an.existsSync)(r))return!1;let n=(0,an.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/truffle.config.js","/truffle.js"].some(l=>(0,an.existsSync)(t+l));return!!o.truffle||!!i.truffle||s||!1}};var xo=require("fs");var cn=class{constructor(){this.frameworkType="vite"}matches(t){let r=t+"/package.json";if(!(0,xo.existsSync)(r))return!1;let n=(0,xo.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n);return!!o.vite||!!i.vite||!1}};var ln=require("fs");var fn=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,ln.existsSync)(r))return!1;let n=(0,ln.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n),s=["/vue.config.js"].some(l=>(0,ln.existsSync)(t+l));return!!o.vue||!!i.vue||s||!1}};var _o=require("fs"),un=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,_o.existsSync)(t+"/Assets/Zenject"),n=(0,_o.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),o=(0,_o.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||o||!1}};async function yt(e,t,r){let o=[new Ar,new Or,new Ir,new Mr,new Nr,new Br,new qr,new Wr,new Gr,new Jr,new zr,new Hr,new Kr,new Zr,new Qr,new tn,new nn,new on,new sn,new fn,new cn,new un].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!o.length)return"none";if(o.length===1)return o[0];if(o.includes("expo")&&o.includes("react-native-cli"))return"expo";I(`Detected multiple possible frameworks: ${o.map(a=>`"${a}"`).join(", ")}`);let i="We detected multiple possible frameworks which one do you want to use?";return t.ci?o[0]:(await hf.default.prompt({type:"list",choices:o,name:i}))[i]}var gf=v(require("inquirer"));var vo=require("fs");var pn=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,vo.existsSync)(r))return!1;let n=(0,vo.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n);return o.express||i.express||!1}};var oa=require("fs"),dn=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,oa.existsSync)(t+"/Assets/PlayMaker"),n=(0,oa.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};var So=require("fs");var mn=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,So.existsSync)(r))return!1;let n=(0,So.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n);return o.react||i.react||!1}};var ko=require("fs");var hn=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,ko.existsSync)(r))return!1;let n=(0,ko.readFileSync)(r),{dependencies:o,devDependencies:i}=M(n);return o["react-native"]||i["react-native"]||!1}};var gn=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:o}=ce(t,r);return!!n.find(i=>i.includes("web3"))||!!o.find(i=>i.includes("web3"))||!1}};async function yn(e,t,r){let o=[new pn,new mn,new hn,new gn,new dn].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!o.length)return"none";if(o.length===1)return o[0];if(o.includes("react-native")&&o.includes("react"))return"react-native";I(`Detected multiple possible libraries: ${o.map(a=>`"${a}"`).join(", ")}`);let i="We detected multiple possible libraries which one do you want to use?";return t.ci?o[0]:(await gf.default.prompt({type:"list",choices:o,name:i}))[i]}var _f=v(require("inquirer"));var yf=require("fs"),bn=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,yf.readdirSync)(t).some(o=>o.match(r))}};var bf=require("fs"),wn=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,bf.readdirSync)(t).some(o=>o.match(r))}};var wf=require("fs"),xn=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,wf.readdirSync)(t).some(o=>o.match(r))}};var xf=require("fs"),_n=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,xf.readdirSync)(t).some(o=>o.match(r))}};async function ia(e,t){let n=[new bn,new wn,new xn,new _n].filter(i=>i.matches(e)).map(i=>i.languageType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("typescript")&&n.includes("javascript"))return"typescript";I(`Detected multiple possible languages: ${n.map(i=>`"${i}"`).join(", ")}`);let o="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await _f.default.prompt({type:"list",choices:n,name:o}))[o]}var vf=v(require("path"));var Eo=["brownie","foundry","hardhat","truffle","solc","none"];var Sf=require("@thirdweb-dev/sdk");var To=require("fs");async function kf(e){h.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(h.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:vf.default.resolve(`${t}/${e.path}`)),h.debug("Processing project at path "+t);let r=await pt(t,e),n=await ia(t,e),o=await yn(t,e,r),i=await yt(t,e,r),a=i!=="none"&&Eo.includes(i)?"contract":"app",s=a==="contract"?i:"none";if(h.info("Detected package manager: "+r),h.info("Detected library: "+o),h.info("Detected language: "+n),h.info("Detected framework: "+i),h.info("Detected app type: "+a),a==="contract"){let l,c=ie("Compiling project...");try{l=await ze(t,s,e)}catch(p){c.fail("Compilation failed"),h.error(p),process.exit(1)}c.succeed("Compilation successful");let f=[];if(l.contracts.length===1)f=[l.contracts[0]];else if(e.all)f=l.contracts;else{let p=l.contracts.map(d=>({name:d.name,value:d})),g=await qt(p,"Choose which contracts to run detection on").run();f=Object.keys(g).map(d=>g[d])}f.map(p=>{let y=JSON.parse(p.metadata).output.abi,g=Ef((0,Sf.detectFeatures)(y)),d=g.enabledFeatures.map(_=>({name:_.name,reference:`https://portal.thirdweb.com/interfaces/${_.name.toLowerCase()}`})),b=g.suggestedFeatures.map(_=>({name:_.name,reference:`https://portal.thirdweb.com/interfaces/${_.name.toLowerCase()}`}));return{name:p.name,enabledFeatures:d,suggestedFeatures:b}}).map(p=>{h.info(`
`),p.enabledFeatures.length===0?O(`No extensions detected on ${m.blueBright(p.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):(O(`Detected extension on ${m.blueBright(p.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),p.enabledFeatures.map(g=>{h.info(`\u2714\uFE0F ${m.green(g.name)}`)})),h.info(""),O("Suggested extensions").info(),p.suggestedFeatures.map(g=>{h.info(`${m.dim(m.gray("-"))} ${m.gray(g.name)} - ${m.dim(m.gray(g.reference))}`)});let y="npx thirdweb@latest deploy";if((0,To.existsSync)(t+"/package.json")){let g=Wt(),d=g==="yarn";JSON.parse((0,To.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===y&&(y=`${g}${d?"":" run"} deploy`)}h.info(""),O("Once you're done writing your contracts, you can run the following command to deploy them:").info(),h.info(""),h.info(`     ${m.cyan(y)}`),h.info("")})}}function Ef(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let o in e){let i=e[o];i.enabled?t.push(i):(t.findIndex(a=>a.name===n)>-1||so.includes(i.name))&&r.push(i),Ef(i.features,t,r,i.name)}return{enabledFeatures:t,suggestedFeatures:r}}var Tf="2.7.6";function Cf(){return new Promise(async(e,t)=>{try{await H("ruby",["-v"],!1,r=>{let o=String(r).split(" ")[1];o.includes(Tf)?e():(console.log(),console.error(`Your current ruby version: ${m.red(`"${o}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${m.green(`"${Tf}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var Pf=v(require("got")),Rf=async e=>{try{return(await Pf.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var He=require("child_process"),Df=v(require("path")),Ff=v(require("rimraf"));function Lm(){try{return(0,He.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function Nm(){try{return(0,He.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function Co(e){let t=!1;try{return(0,He.execSync)("git --version",{stdio:"ignore"}),Lm()||Nm()?!1:((0,He.execSync)("git init",{stdio:"ignore"}),t=!0,(0,He.execSync)("git checkout -b main",{stdio:"ignore"}),(0,He.execSync)("git add -A",{stdio:"ignore"}),(0,He.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{Ff.default.sync(Df.default.join(e,".git"))}catch{}return!1}}var jf=v(Ji());function vn(e,t,{packageManager:r,isOnline:n,devDependencies:o}){let i=[],a=[];return new Promise((s,l)=>{let c,f=r,u=r==="yarn";t&&t.length?u?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),o&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(o?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(m.yellow("You appear to be offline.")),u?(console.log(m.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),u?c.push(...a):c.push(...i),(0,jf.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",y=>{if(y!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var aa=v(require("fs")),$f=v(require("path"));function Po(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=aa.default.readdirSync(e).filter(o=>!r.includes(o)).filter(o=>!/\.iml$/.test(o));if(n.length>0){console.log(`The directory ${m.green(t)} contains files that could conflict:`),console.log();for(let o of n)try{aa.default.lstatSync($f.default.join(e,o)).isDirectory()?console.log(`  ${m.blue(o)}/`):console.log(`  ${o}`)}catch{console.log(`  ${o}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var Af=require("child_process"),sa=v(require("dns")),Of=v(require("url"));function Bm(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,Af.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function Ro(){return new Promise(e=>{sa.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=Bm();if(!r)return e(!1);let{hostname:n}=Of.default.parse(r);if(!n)return e(!1);sa.default.lookup(n,o=>{e(o===null)})})})}var Do=v(require("fs"));async function Fo(e){try{return await Do.default.promises.access(e,(Do.default.constants||Do.default).W_OK),!0}catch{return!1}}var If=v(require("fs"));function jo(e,t={recursive:!0}){return If.default.promises.mkdir(e,t)}var Mf=v(require("path"));function Lf(e,t){return new Promise(async(r,n)=>{t||(console.log(m.yellow("You appear to be offline.")),console.log(),n());try{await H("bundle",["install"],!0)}catch(o){n(o)}console.log("Running pod install...");try{process.chdir(Mf.default.join(e,"ios")),await H("pod",["install"],!0),process.chdir(e),r()}catch(o){process.chdir(e),n(o)}})}var ca=v(require("got")),Nf=require("stream"),Bf=v(require("tar")),Uf=require("util"),Um=(0,Uf.promisify)(Nf.Stream.pipeline);async function qm(e){return(await ca.default.head(e).catch(r=>r)).statusCode===200}function la(e){return qm(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function Sn(e,{name:t,filePath:r}){return Um(ca.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),Bf.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var fa=v(require("async-retry"));var kn=v(require("fs")),ua=v(require("os")),bt=v(require("path")),Ye=class extends Error{};async function qf({appPath:e,packageManager:t,framework:r,template:n}){let o="";n?await la(n)||(console.error(`Could not locate the repository for ${m.red(`"${n}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(o=`${r}-starter`,await la(o)||(console.error(`Something went wrong with the ${m.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let i=n?.includes("react-native")||r==="react-native";function a(){return i&&n&&!n.includes("expo")}function s(){return process.platform==="darwin"}a()&&s()&&await Cf();let l=bt.default.resolve(e);await Fo(bt.default.dirname(l))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let c=bt.default.basename(l);await jo(l),Po(l,c)||process.exit(1);let f=t==="yarn",u=!f||await Ro(),p=process.cwd();console.log(`Creating a new thirdweb app in ${m.green(l)}.`),console.log(),process.chdir(l);function y(b){return typeof b=="object"&&b!==null&&typeof b.message=="string"}if(n){try{console.log(`Downloading files from repo ${m.cyan(n)}. This might take a moment.`),console.log(),await(0,fa.default)(()=>Sn(l,{name:n,filePath:""}),{retries:3})}catch(x){throw new Ye(y(x)?x.message:String(x))}let b=bt.default.join(l,"package.json"),_=kn.default.readFileSync(b);try{let x=JSON.parse(_.toString());x&&(x.name=c),kn.default.writeFileSync(b,JSON.stringify(x,null,2)+ua.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await vn(l,null,{packageManager:t,isOnline:u}),console.log()}else if(r){try{console.log(`Downloading files with framework ${m.cyan(r)}. This might take a moment.`),await(0,fa.default)(()=>Sn(l,{name:o,filePath:""}),{retries:3})}catch(b){throw new Ye(y(b)?b.message:String(b))}try{let b=bt.default.join(l,"package.json"),_=kn.default.readFileSync(b),x=JSON.parse(_.toString());x&&(x.name=c),kn.default.writeFileSync(b,JSON.stringify(x,null,2)+ua.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await vn(l,null,{packageManager:t,isOnline:u}),console.log()}a()&&s()&&await Lf(l,u),Co(l)&&(console.log("Initialized a git repository."),console.log());let g;bt.default.join(p,c)===e?g=c:g=e;let d;r&&(r.includes("next")||r.includes("vite"))?d="dev":n&&(d=await Rf(n)),console.log(`${m.green("Success!")} Created ${c} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),i?(console.log(m.cyan(`  ${t}${f||d==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(m.cyan(`  ${t}${f||d==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):d&&(console.log(m.cyan(`  ${t} ${f||d==="start"?"":"run "}${d}`)),console.log("    Starts the development server."),console.log(),console.log(m.cyan(`  ${t} ${f||d==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(m.cyan("  cd"),g),d&&!i&&console.log(`  ${m.cyan(`${t} ${f||d==="start"?"":"run "}${d}`)}`),console.log()}var Wm={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _defaultAdmin,
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        address _defaultAdmin,
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultAdmin,
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _defaultAdmin,
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},pa=Wm;function Wf(e){return pa[e]!==void 0}function da(e){return pa[e]}function ma(e){let t=Gm(e).toUpperCase(),r=Jm(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function Gf(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function Gm(e){return Gf(e,"_")}function Jm(e){return Gf(e,".")}var Vt=require("fs/promises");async function Jf(){await(0,Vt.rm)("script",{recursive:!0,force:!0}),await(0,Vt.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,Vt.rm)("lib",{recursive:!0,force:!0}),await(0,Vt.writeFile)(".gitmodules",""),await H("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await H("git",["submodule","update","--init","--recursive"])}var Vf=v(require("async-retry"));var zt=v(require("fs")),En=require("fs/promises"),te=v(require("path"));function Vm(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function zf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:o,onlyContract:i,createExtension:a}){o&&(Wf(o)||(console.error(`Could not locate the base contract for ${m.red(`"${o}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=te.default.resolve(e);await Fo(te.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${m.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(i){if(zt.default.existsSync(te.default.join(s,n))&&(console.error(`A contract with the name ${m.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),o&&o.length>0){let f=da(o),u="";u=te.default.join(s,n),await(0,En.writeFile)(u,f),console.log(`${m.green("Success!")} Created ${n} at ${e}`)}if(!o&&a){let f=ma(l),u="";u=te.default.join(s,n),await(0,En.writeFile)(u,f),console.log(`${m.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=te.default.basename(s);await jo(s),Po(s,f)||process.exit(1);let u=!c||await Ro(),p=process.cwd();console.log(`Creating a new thirdweb contracts project in ${m.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let g="";if(r==="hardhat"?g="hardhat-javascript-starter":r==="forge"?g="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,Vf.default)(()=>Sn(s,{name:g,filePath:""}),{retries:3}),o&&o.length>0){let d=da(o).replace("contract Contract",`contract ${n.replace(".sol","")}`),b="";r==="hardhat"&&(zt.default.unlinkSync(te.default.join(s,"contracts","Contract.sol")),b=te.default.join(s,"contracts",n)),r==="forge"&&(zt.default.unlinkSync(te.default.join(s,"src","Contract.sol")),b=te.default.join(s,"src",n)),await(0,En.writeFile)(b,d)}if(!o&&a){let d=ma(l),b="";b=te.default.join(s,n),r==="hardhat"&&(zt.default.unlinkSync(te.default.join(s,"contracts","Contract.sol")),b=te.default.join(s,"contracts",n)),r==="forge"&&(zt.default.unlinkSync(te.default.join(s,"src","Contract.sol")),b=te.default.join(s,"src",n)),await(0,En.writeFile)(b,d)}}catch(g){throw new Ye(Vm(g)?g.message:String(g))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await vn(s,null,{packageManager:t,isOnline:u}),console.log(),Co(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await Jf();let y;te.default.join(p,f)===e?y=f:y=e,console.log(`${m.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(m.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(m.cyan("  cd"),y),console.log(),r==="forge"&&(await lo()||console.log(`
${m.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${m.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var Hf=v(require("validate-npm-package-name"));function ha(e){let t=(0,Hf.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var Ht=v(require("fs")),fe=v(require("path")),Ke=v(require("prompts")),Tn="",Q="",L="",V="",$o="",ga="",ya=!1;async function Yf(e,t="",r){if(typeof t=="string"&&(Q=t),typeof r.contractName=="string"&&(Tn=r.contractName),e==="app"||r.app?L="app":e==="contract"||r.contract?L="contract":(e==="extension"||r.extension)&&(L="extension"),!L&&Object.keys(r).length>0&&(r.next&&(L="app",V="next"),r.vite&&(L="app",V="vite"),r.reactNative&&(L="app",V="expo"),r.node&&(L="app",V="node")),L==="app"&&(r.next&&(V="next"),r.vite&&(V="vite"),r.reactNative&&(V="expo"),r.node&&(V="node"),r.evm&&(ga="evm")),L==="contract"&&(r.forge&&(V="forge"),r.hardhat&&(V="hardhat")),r.framework&&(V=r.framework),!L&&!r.template){let c=await(0,Ke.default)({type:"select",name:"projectType",message:je.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(L=c.projectType.trim())}else(!L||r.template)&&(L="app");L==="extension"&&(ya=!0,r.forge&&(V="forge"),r.hardhat&&(V="hardhat"));let n=!1;if(L==="contract"||L==="extension"){let c=fe.default.resolve(Q),f=await ut(c,{});if(f==="foundry"&&Ht.default.existsSync(fe.default.join(c,"src")))n=!0,Q=fe.default.join(Q,"src");else if(f==="hardhat")if(Ht.default.existsSync(fe.default.join(c,"contracts")))n=!0,Q=fe.default.join(Q,"contracts");else{let u=Ht.default.readdirSync(c).filter(p=>Ht.default.lstatSync(fe.default.join(c,p)).isDirectory());for(let p of u)if(Ht.default.readdirSync(fe.default.join(Q,p)).some(g=>g.endsWith(".sol"))){n=!0,Q=fe.default.join(Q,p);break}}}if(!n){if(!Q){let c=L==="contract"||L==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,Ke.default)({type:"text",name:"path",message:je.projectName,initial:r.template||c,format:u=>u.toLowerCase(),validate:u=>{let p=ha(fe.default.basename(fe.default.resolve(u.toLowerCase())));return p.valid||"Invalid project name: "+p.problems?.[0]}});typeof f.path=="string"&&(Q=fe.default.join(Q,f.path.trim()))}if(Q||(console.log(`
Please specify the project directory:
  ${m.cyan("npx thirdweb create")} ${m.green("<project-directory>")}
For example:
  ${m.cyan("npx thirdweb create")} ${m.green("my-thirdweb-app")}

Run ${m.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(L==="app"&&!ga&&(ga="evm"),L==="app"&&!V){let c=await(0,Ke.default)({type:"select",name:"framework",message:je.framework,choices:[{title:"Next.js",value:"next"},{title:"Vite",value:"vite"},{title:"React Native",value:"expo"}]});typeof c.framework=="string"&&(V=c.framework.trim())}if((L==="contract"||L==="extension")&&V!=="forge"&&V!=="hardhat"){let c=await(0,Ke.default)({type:"select",name:"framework",message:je.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(V=c.framework.trim())}V||(console.log("Please specify a framework"),process.exit(1))}}if(L==="contract"||L==="extension"){if(!Tn){let f=await(0,Ke.default)({type:"text",name:"path",message:L==="extension"?je.extensionName:je.contractName,initial:"MyContract",validate:u=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(u)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(Tn=f.path.trim()),Tn||(console.log(`
Please specify the contract name:
  ${m.cyan("npx thirdweb create --contract --name")} ${m.green("<contract-name>")}
For example:
  ${m.cyan("npx thirdweb create --contract --name")} ${m.green("MyContract")}

Run ${m.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(L==="contract"&&!$o&&!ya){let c="none",f=await(0,Ke.default)({type:"select",name:"standard",message:je.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")$o="";else{let u=[];c==="erc721"?u=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?u=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(u=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let p=await(0,Ke.default)({type:"select",name:"baseContract",message:je.extensions,choices:u});typeof p.baseContract=="string"&&($o=p.baseContract.trim())}}}Q=fe.default.resolve(Q);let o=fe.default.basename(Q),{valid:i,problems:a}=ha(o);i||(console.error(`Could not create a project called ${m.red(`"${o}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${m.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":Wt(),l=typeof r.template=="string"?r.template.trim():void 0;try{L==="app"?await qf({appPath:Q,packageManager:s,framework:V,template:l}):await zf({contractPath:Q,packageManager:s,framework:V,contractName:Tn,baseContract:$o,onlyContract:n,createExtension:ya})}catch(c){if(!(c instanceof Ye))throw c}}function ba(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let o={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return o?`https://thirdweb.com/thirdweb.eth/${o}`:void 0}}var wa=require("@thirdweb-dev/storage");var wt=v(require("fs")),Ao=v(require("path"));function Kf(e,t){let r=[],n=wt.default.lstatSync(e);if(n.isFile()){let o=Ao.default.relative(t,e),i=wt.default.readFileSync(e);r.push({name:o,data:i})}else n.isDirectory()&&wt.default.readdirSync(e).forEach(i=>{let a=Ao.default.join(e,i);Kf(a,t).forEach(l=>r.push(l))});return r}async function Oo(e,t){if(!t)return Promise.reject("No path provided");if(!wt.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",o=wt.default.lstatSync(t);if(o.isDirectory()){let i=Kf(t,t);if(i.length===0)return Promise.reject("No files detected in specified directory");let a=ie("Uploading directory to IPFS. This may take a while depending on file sizes.");try{let s=await e.uploadBatch(i);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}catch(s){return a.fail("Failed to upload directory to IPFS."),Promise.reject(s)}}else if(o.isFile()){let i=Ao.default.parse(t).base,a=wt.default.readFileSync(t),s={name:i,data:a},l=ie("Uploading file to IPFS. This may take a while depending on file sizes.");try{n=await e.upload(s,{uploadWithoutDirectory:!0})}catch(c){return l.fail("Failed to upload file to IPFS."),Promise.reject(c.message?c.message:c)}l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}async function Xf(e="dist",t=".",r){let n;r?n=new wa.ThirdwebStorage({secretKey:r}):n=new wa.ThirdwebStorage;let o=await pt(t,{}),i=await yt(t,{},o);if(i==="none")throw new Error("No supported project detected");switch(i){case"next":e="out";break;case"cra":e="build";break;default:break}h.info(`Detected project type: ${i}`),h.info(`Detected package manager: ${o}`),h.info(`distPath: ${e}`),h.info(`projectPath: ${t}`);try{switch(o){case"yarn":await H("yarn",["build"],!0),i==="next"&&await H("yarn",["next","export"],!0);break;case"npm":await H("npm",["run","build"],!0),i==="next"&&await H("npx",["next","export"],!0);break;case"pnpm":await H("pnpm",["build"],!0),i==="next"&&await H("pnpm",["next","export"],!0);break;default:throw new Error("No supported package manager detected")}}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`${(await Oo(n,e)).replace("ipfs://","https://cf-ipfs.com/ipfs/")}`}catch(a){return console.error(a.message?a.message:a),Promise.reject("Can't upload project")}}async function Zf(e,t){if(e.name){let n=ba(e.name,e.contractVersion);if(!n){h.error(m.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return I(`Open this link to deploy your contract: ${m.blueBright(n)}`),n.toString()}if(e.app)try{let n=await Xf(e.distPath,e.path,t);return I(`Here is the link to your app: ${m.blueBright(n.toString())}`),n.toString()}catch(n){return h.error("Failed to deploy app, No compatible project found",n),Promise.reject("failed to deploy app, no compatible project found")}let r=await bo(e,"deploy",t);return I(`Open this link to deploy your contracts: ${m.blueBright(r.toString())}`),r.toString()}var ru=require("@thirdweb-dev/chains"),Io=require("@thirdweb-dev/sdk"),va=require("@thirdweb-dev/storage"),ae=v(require("fs"));var nu=v(require("prompts"));var Qf=require("@thirdweb-dev/sdk"),eu=v(require("prompts")),xa=require("@thirdweb-dev/chains"),tu=xa.allChains.map(e=>({title:e.slug}));async function _a(e,t,r){let n=[];await Promise.all(e.map(async o=>{let i=[];if(await Promise.all(t.map(async a=>{let s=(0,Qf.getChainProvider)(a,{});try{let l=await s.getCode(o);if(!l||l==="0x")return;i.push(a)}catch{return}})),!!i.length){if(i.length===1){r.push({address:o,chainId:i[0]});return}n.push({address:o,chains:i.map(a=>({slug:xa.allChains[a].slug,chainId:a}))})}}));for(let o of n){let i=await(0,eu.default)({type:"select",name:"chainId",message:`What chain is smart contract '${o.address}' on?`,choices:o.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:o.address,chainId:i.chainId})}}async function ou(e,t){let r=e.path?.replace(/\/$/,"")||".",n=[],o=[];if(Hi(r,/(0x[a-fA-F0-9]{40})/g,o),ae.default.existsSync(`${r}/thirdweb.json`)){let p=JSON.parse(ae.default.readFileSync(`${r}/thirdweb.json`,"utf-8")),y=p.contracts.map(d=>d.address.toLowerCase()),g=Array.from(new Set(o)).filter(d=>!y.includes(d.toLowerCase()));if(n=[...p.contracts],g.length){let d=p.chainIds;if(await _a(g,d,n),n.length>p.contracts.length){ae.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:d,contracts:n},void 0,2));let b=n.length-p.contracts.length;I(`Updated thirdweb.json with ${b} new contract${b===1?"":"s"}`)}}}else{let y=(await(0,nu.default)({type:"autocompleteMultiselect",name:"chains",message:Nl.chains,choices:tu})).chains.map(g=>ru.allChains[g].chainId);await _a(o,y,n),ae.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:y,contracts:n},void 0,2)),I(`Created a thirdweb.json file with configuration for ${n.length} contract${n.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}O("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let i;t?i=new va.ThirdwebStorage({secretKey:t}):i=new va.ThirdwebStorage;let a=[];await Promise.all(n.map(async p=>{let y=(0,Io.getChainProvider)(p.chainId,{}),g;try{g=await(0,Io.fetchContractMetadataFromAddress)(p.address,y,i)}catch{O(`Unable to download ABI for contract ${p.address}, skipping.`).warn();return}a.push({address:p.address,metadata:g})}));let s=`${r}/node_modules/@thirdweb-dev/generated-abis/dist`;ae.default.existsSync(s)||(O("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${s}/thirdweb-dev-generated-abis.cjs.js`,`${s}/thirdweb-dev-generated-abis.esm.js`].forEach(p=>{if(!ae.default.existsSync(p))return;let y=ae.default.readFileSync(p,"utf-8"),g=/GENERATED_ABI = \{.*\};\n\n/s,d=a.reduce((x,E)=>(x[E.address]=E.metadata.abi,x),{}),b=JSON.stringify(d,null,2),_=y.replace(g,`GENERATED_ABI = ${b};

`);ae.default.writeFileSync(p,_)});{let p=`${s}/declarations/src/index.d.ts`;if(!ae.default.existsSync(p))return;let y=ae.default.readFileSync(p,"utf-8"),g=/GENERATED_ABI: \{.*\}/s,d=a.reduce((x,E)=>(x[E.address]=E.metadata.abi,x),{}),b=JSON.stringify(d,null,2),_=y.replace(g,`GENERATED_ABI: ${b}`);ae.default.writeFileSync(p,_)}O(`Downloaded and cached ABIs for ${a.length} smart contract${a.length===1?"":"s"}`).succeed();let c=`${r}/package.json`;if(!ae.default.existsSync(c))return;let f=JSON.parse(ae.default.readFileSync(c,"utf-8"));if(f.scripts?.postinstall?.includes("thirdweb generate")||f.scripts?.postinstall?.includes("thirdweb@latest generate"))return;let u=f.scripts?.postinstall?f.scripts.postinstall+"npx --yes thirdweb@latest generate":"npx --yes thirdweb@latest generate";ae.default.writeFileSync(c,JSON.stringify({...f,scripts:{...f.scripts,postinstall:u}},void 0,2)),O(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var Sa=require("child_process");async function iu(){if(await zm())return{packageManager:await import("detect-package-manager").then(({detect:i})=>i()),isGlobal:!1};if(await Hm())return{packageManager:"npm",isGlobal:!0};if(await Ym())return{packageManager:"yarn",isGlobal:!0};if(await Km())return{packageManager:"pnpm",isGlobal:!0}}async function zm(){let e=await ka("npm ls --depth=0");return Mo(e||[])}async function Hm(){let e=await ka("npm ls -g --depth=0");return Mo(e||[])}async function Ym(){let e=await ka("yarn --cwd `yarn global dir` list");return Mo(e||[])}async function Km(){let e=await new Promise(t=>{(0,Sa.exec)("pnpm list -g --depth=0",(r,n)=>{let o=[];o=n.split("dependencies:")[1]?.trim().split(`
`)||[],o=o.map(i=>i.replace(" ","@")),t(o)})});return Mo(e||[])}function Mo(e){return e.some(t=>t.match(/^thirdweb/))}async function ka(e){return new Promise(t=>{(0,Sa.exec)(e,(r,n)=>{let o=[];o=n.split(`
`),o=o.filter(function(i){if(i.match(/^├─.+/g)!==null||i.match(/^└─.+/g)!==null)return!0}),o=o.map(function(i){if(i.match(/^├─.+/g)!==null)return i.replace(/(^├──\s|^├─\s)/g,"");if(i.match(/^└─.+/g)!==null)return i.replace(/(^└──\s|^├─\s)/g,"")}).filter(i=>!!i),t(o)})})}var Lo=require("fs");var Ea=v(require("inquirer"));var Xm=["@thirdweb-dev/chain-icons"];async function au(e=".",t){let r=t.debug||!1,n,o,i={},a={},s=[],l=[],c={},f=[],u=new Set,p=new Set,y={package:"",exists:!1},g=!1,d=await pt(e,t),b=await yt(e,t,d),_=await yn(e,t,d),x=b!=="none"&&Eo.includes(b)?"contract":"app",E=d==="brownie",k=d==="foundry",C=d==="go-modules",R=["pip","pipenv","poetry"].includes(d),T=["yarn","pnpm","npm"].includes(d);if(T){let S=e+"/package.json";if(!(0,Lo.existsSync)(S)){console.error("No package.json file found. Please run this command in the root of your project.");return}let re=(0,Lo.readFileSync)(S),se=M(re);i=se.dependencies,a=se.devDependencies,c=se.peerDependencies}if(R){let S=ce(e,d);s=S.dependencies,l=S.devDependencies}E&&(y=await xl(/\s*thirdweb-dev\/contracts@\d+\.\d+\.\d+/g)),k&&(g=await _l(e,"thirdweb-contracts")),C&&(f=vl(e));let D=!!i?.ethers||!!a?.ethers,N=T?t.dev?"@dev":t.nightly?"@nightly":"":"",A=new Set([...Object.keys(i).filter(S=>S.startsWith("@thirdweb-dev/")),...Object.keys(a).filter(S=>S.startsWith("@thirdweb-dev/")),...Object.keys(c).filter(S=>S.startsWith("@thirdweb-dev/")),...s.filter(S=>S.startsWith("thirdweb-sdk")).map(S=>S.split("==")[0]),...l.filter(S=>S.startsWith("thirdweb-sdk")).map(S=>S.split("==")[0]),...f.filter(S=>(console.log("dep",S),S.name==="github.com/thirdweb-dev/go-sdk/v2")).map(S=>S.name)].concat(y.exists?[y.package]:[]).concat(g?["lib/thirdweb-contracts"]:[]));if(x==="contract"?Sl({detectedPackageManager:d,thirdwebDepsToUpdate:A,thirdwebDepsToInstall:u,isJSPackageManager:T}):x==="app"&&kl({detectedLibrary:_,detectedFramework:b,hasEthers:D,isGoPackageManager:C,isJSPackageManager:T,isPythonPackageManager:R,otherDeps:p,thirdwebDepsToInstall:u,thirdwebDepsToUpdate:A}),Xm.forEach(S=>{A.delete(S),u.delete(S)}),u.size!==0){let S=await Ea.default.prompt({type:"checkbox",choices:[...u],message:"Which thirdweb dependencies would you like to install?",name:"dependencies",default:[...u]});S.dependencies.length!==u.size&&(u.clear(),S.dependencies.forEach(re=>u.add(re)))}if(A.size!==0){let S=await Ea.default.prompt({type:"checkbox",choices:[...A],message:"Which thirdweb dependencies would you like to update?",name:"dependencies",default:[...A]});S.dependencies.length!==A.size&&(A.clear(),S.dependencies.forEach(re=>A.add(re)))}if(u.size===0&&A.size===0){console.log("No thirdweb dependencies to install or update.");return}r&&(h.info("Detected package manager: "+d),h.info("Detected library: "+_),h.info("Detected framework: "+b),h.info("Detected app type: "+x));try{let S=[...[...u].map(se=>`${se}${N}`),...p],re=[...A].map(se=>`${se}${N}`);u.size!==0&&(n=O(`Installing: "${[...u].join('", "')}"`).start(),await zi(d,S,[],"install",{oldVersion:y.package,debug:r}),n?.succeed(`Installed: "${S.join('", "')}"`)),A.size!==0&&(o=O(`Updating: "${[...A].join('", "')}"`).start(),await zi(d,[],re,"update",{debug:r}),o?.succeed(`Updated: "${re.join('", "')}"`))}catch(S){return console.error("Can't install within project: ",S),Promise.reject("Can't install within project")}}var Zm=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=(0,Pa.default)(".thirdweb").config(),r=(0,Pa.default)(".thirdweb").cache(),n=Cn.default.join(r,"last-version-check.txt"),o=Cn.default.join(t,"creds.json"),i=Cn.default.join(t,"wallet.json"),a=Cn.default.join(t,"auth-token.txt"),s=new su.Command;e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb v${Gt} \u{1F48E}
`)),s.name("thirdweb").description("Official thirdweb command line interface").version(Gt,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{let l=!xt.default.existsSync(t),c=!xt.default.existsSync(r);if(l&&xt.default.mkdirSync(t,{recursive:!0}),c&&xt.default.mkdirSync(r,{recursive:!0}),e||s.opts().skipUpdateCheck)return;let f=!0;try{let p=xt.default.readFileSync(n,"utf-8");if(p){let y=new Date(p);Date.now()-y.getTime()<1e3*60*60*24&&(f=!1)}}catch{}if(!f)return;let u=ie("Checking for updates...");await import("update-notifier").then(async({default:p})=>{let g=await p({pkg:ta,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();u.stop();try{xt.default.writeFileSync(n,new Date().toISOString(),{encoding:"utf-8",mode:384})}catch{}if(g.type!=="latest"&&(await(0,cu.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let b=ie(`Upgrading CLI to version ${g.latest}...`),_={...process.env};_.THIRDWEB_CLI_SKIP_INTRO="true";let x=await iu();if(!x)return b.succeed(`Now using CLI version ${g.latest}. Continuing execution...`),await new Promise((C,R)=>{(0,Pn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:_}).on("close",D=>{D===0?C(""):R()})}),process.exit(0);let E="";switch(x.packageManager){case"npm":E=x.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":E=x.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":E=x.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((C,R)=>{(0,Pn.exec)(E,(T,D,N)=>{if(T)return R(T);C({stdout:D,stderr:N})})}),b.succeed(`Successfully upgraded CLI to version ${g.latest}. Continuing execution...`);let k=!x.isGlobal||x.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((C,R)=>{(0,Pn.spawn)(`${k} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:_}).on("close",D=>D===0?C(""):R())}),process.exit(0)}})}),s.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").option("-d, --debug","show debug logs").action(async(l,c)=>{await au(l,c)}),s.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--react-native","Initialize as a React Native project.").option("--node","Initialize as a Node project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(l,c,f)=>{await Yf(l,c,f)}),s.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async l=>{await Yl(l)}),s.command("deploy").description("Securely deploy your contract to any EVM network without having to deal with scripts, private keys, or ABIs").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").option("--zksync","Deploy on ZKSync").option("--link-lib <library:address...>","Specify library names and addresses",Ki,[]).option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await br(l.key),c=l.key):await Mt({credsConfigPath:o,cliWalletPath:i,tokenPath:a});let f=await Zf(l,c);f&&!l.ci&&await(0,Ca.default)(f)}),s.command("publish").description("Get a shareable page for your contract with a README, changelog, and version control. Enable one-click deploys to any EVM network").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--zksync","Publish with ZKSync settings").option("--link-lib <library:address...>","Specify library names and addresses",Ki,[]).option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await br(l.key),c=l.key):await Mt({credsConfigPath:o,cliWalletPath:i,tokenPath:a});let f=await bo(l,"publish",c);I(`Open this link to publish your contracts: ${m.blueBright(f.toString())}`),f&&!l.ci&&await(0,Ca.default)(f.toString())}),s.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").option("-k, --key <key>","API secret key to authorize usage").action(async(l,c)=>{let f="",u;c.key?(await br(c.key),f=c.key):await Mt({credsConfigPath:o,cliWalletPath:i,tokenPath:a}),f?u=new Ta.ThirdwebStorage({secretKey:f}):u=new Ta.ThirdwebStorage;try{let p=await Oo(u,l);I(`Files stored at the following IPFS URI: ${m.blueBright(p.toString())}`);let y=u.resolveScheme(p);I(`Open this link to view your upload: ${m.blueBright(y.toString())}`)}catch(p){p.toString()==="No files detected in specified directory"||p.toString()==="Invalid path provided"||p.toString()==="No path provided"?h.error(m.redBright("Please specify a valid file or directory to upload")):h.error(m.redBright(p.message?p.message:p))}}),s.command("detect").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async l=>{await kf(l)}),s.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await br(l.key),c=l.key):await Mt({credsConfigPath:o,cliWalletPath:i,tokenPath:a}),await ou(l,c)}),s.command("login").description("Authorize your device to use the thirdweb CLI by authenticating with your wallet from our dashboard").action(async l=>{await Mt({credsConfigPath:o,cliWalletPath:i,tokenPath:a},l,!0)}),s.command("logout").description("Logout of the thirdweb CLI").action(async()=>{await Fl(o,a,i)}),await s.parseAsync()};Zm().then(()=>{process.exit(0)}).catch(e=>{h.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map